<div class="page-container-xs">

    <crumbs links="vm.links"></crumbs>

    <h2 class="font-display fw-600 m-0 mb-sm" ng-bind="vm.pageTitle">Complete Author List</h2>
    <p class="text-muted text-base m-0 mb-lg">Browse authors or search by name</p>

    <div class="mb-lg">
        <form class="form-inline">
            <div class="flex-1 min-w-250" style="max-width:400px">
                <input type="text" name="search" class="form-control w-full" ng-model="vm.searchText"
                    ng-keypress="vm.SearchKey($event);"
                    placeholder="Search by author name..." />
            </div>
            <button type="button" class="btn btn-primary" ng-click="vm.SearchAuthors();">
                <i class="fa fa-search icon-mr"></i> Search
            </button>
            <button type="button" class="btn btn-default" ng-if="vm.searchText" ng-click="vm.ClearSearch();">Clear</button>
        </form>
    </div>

    <div ng-if="vm.spinner" class="loading-container">
        <div class="spinner spinner-lg"></div>
    </div>

    <div ng-if="vm.authorList">
        <table class="table cursor-pointer">
            <tr>
                <th>Author</th>
                <th class="text-right">Publications</th>
            </tr>
            <tr ng-repeat="a in vm.authors">
                <td><a ng-href="/#/library/author/{{a.Author}}">{{a.Author}}</a></td>
                <td class="text-right">
                    <span class="count-badge">{{a.BookCount}}</span>
                </td>
            </tr>
        </table>
    </div>

    <div ng-if="vm.searchResults">
        <table class="table cursor-pointer">
            <tr>
                <th>Author</th>
                <th class="text-right">Publications</th>
            </tr>
            <tr ng-repeat="a in vm.filteredList">
                <td><a ng-href="/#/library/author/{{a.Author}}">{{a.Author}}</a></td>
                <td class="text-right">
                    <span class="count-badge">{{a.BookCount}}</span>
                </td>
            </tr>
        </table>
    </div>

</div>
