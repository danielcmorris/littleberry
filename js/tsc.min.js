function validateCollege(n){var t="";return enterKey!="false"?(document.getElementById(enterKey).blur(),enterKey="false",!1):(document.getElementById("updateCollege_maritalStatus").value=="M"&&(t+=validateEmpty(n.sfirstname),t+=validateEmpty(n.slastname),t+=n.sage.value!=""&&n.sage.value.length>0?validateAge(n.sage):validateBday(n.sbirthdate,"true")),t+=validateEmpty(n.cfirstname),t+=validateEmpty(n.clastname),t+=n.cage.value!=""&&n.cage.value.length>0?validateAge(n.cage):validateBday(n.cbirthdate,"true"),t+=validateEmail(n.email,"false"),n.cage.value!=""&&n.cage.value.length>0?(document.getElementById("updateCollege_dependents_0__name").value!=""&&(t+=validateAge(n.updateCollege_dependents_0__age)),document.getElementById("updateCollege_dependents_1__name").value!=""&&(t+=validateAge(n.updateCollege_dependents_1__age)),document.getElementById("updateCollege_dependents_2__name").value!=""&&(t+=validateAge(n.updateCollege_dependents_2__age)),document.getElementById("updateCollege_dependents_3__name").value!=""&&(t+=validateAge(n.updateCollege_dependents_3__age)),document.getElementById("updateCollege_dependents_4__name").value!=""&&(t+=validateAge(n.updateCollege_dependents_4__age))):(document.getElementById("updateCollege_dependents_0__name").value!=""&&(t+=validateBday(n.updateCollege_dependents_0__birthdate,"true")),document.getElementById("updateCollege_dependents_1__name").value!=""&&(t+=validateBday(n.updateCollege_dependents_1__birthdate,"true")),document.getElementById("updateCollege_dependents_2__name").value!=""&&(t+=validateBday(n.updateCollege_dependents_2__birthdate,"true")),document.getElementById("updateCollege_dependents_3__name").value!=""&&(t+=validateBday(n.updateCollege_dependents_3__birthdate,"true")),document.getElementById("updateCollege_dependents_4__name").value!=""&&(t+=validateBday(n.updateCollege_dependents_4__birthdate,"true"))),t!="")?(alert(requiredFieldsMessage),!1):!0}function validateLTC(n){var t="";return enterKey!="false"?(document.getElementById(enterKey).blur(),enterKey="false",!1):(document.getElementById("updateLTC_maritalStatus").value=="M"&&(t+=validateEmpty(n.sfirstname),t+=validateEmpty(n.slastname),t+=n.sage.value!=""&&n.sage.value.length>0?validateAge(n.sage):validateBday(n.sbirthdate,"true")),t+=validateEmpty(n.cfirstname),t+=validateEmpty(n.clastname),t+=n.cage.value!=""&&n.cage.value.length>0?validateAge(n.cage):validateBday(n.cbirthdate,"true"),t+=validateEmail(n.email,"false"),t!="")?(alert(requiredFieldsMessage),!1):!0}function validateDebtElimination(n){var t="";return enterKey!="false"?(document.getElementById(enterKey).blur(),enterKey="false",!1):(document.getElementById("updateDebtElimination_maritalStatus").value=="M"&&(t+=validateEmpty(n.sfirstname),t+=validateEmpty(n.slastname),t+=n.sage.value!=""&&n.sage.value.length>0?validateAge(n.sage):validateBday(n.sbirthdate,"true")),t+=validateEmpty(n.cfirstname),t+=validateEmpty(n.clastname),t+=n.cage.value!=""&&n.cage.value.length>0?validateAge(n.cage):validateBday(n.cbirthdate,"true"),t+=validateEmail(n.email,"false"),t!="")?(alert(requiredFieldsMessage),!1):!0}function validateDisabilityIncome(n){var t="";return enterKey!="false"?(document.getElementById(enterKey).blur(),enterKey="false",!1):(document.getElementById("updateDisabilityIncome_maritalStatus").value=="M"&&(t+=validateEmpty(n.sfirstname),t+=validateEmpty(n.slastname),t+=n.sage.value!=""&&n.sage.value.length>0?validateAge(n.sage):validateBday(n.sbirthdate,"true")),t+=validateEmpty(n.cfirstname),t+=validateEmpty(n.clastname),t+=n.cage.value!=""&&n.cage.value.length>0?validateAge(n.cage):validateBday(n.cbirthdate,"true"),t+=validateEmail(n.email,"false"),t!="")?(alert(requiredFieldsMessage),!1):!0}function validateRetirement(n){var t="";return enterKey!="false"?(document.getElementById(enterKey).blur(),enterKey="false",!1):(document.getElementById("updateRetirement_maritalStatus").value=="M"&&(t+=validateEmpty(n.sfirstname),t+=validateEmpty(n.slastname),t+=n.sage.value!=""&&n.sage.value.length>0?validateAge(n.sage):validateBday(n.sbirthdate,"true")),t+=validateEmpty(n.cfirstname),t+=validateEmpty(n.clastname),t+=n.cage.value!=""&&n.cage.value.length>0?validateAge(n.cage):validateBday(n.cbirthdate,"true"),t+=validateEmail(n.email,"false"),t+=validateClientEndRetirementAnalysis(),t+=validateSpouseEndRetirementAnalysis(),t+=validatePercentage(n.updateRetirement_beforeTaxReturn,12),t+=validatePercentage(n.updateRetirement_beforeTaxReturnRetire,12),t+=validatePercentage(n.updateRetirement_avgTaxRate,75),t+=validatePercentage(n.updateRetirement_avgTaxRateRetire,75),t+=validatePercentage(n.updateRetirement_inflationRate,10),t!="")?((t.indexOf("Date format is incorrect.")!==-1||t.indexOf("Age to end retirement analysis exceeds allowed range.")!==-1)&&window.scrollTo(0,0),alert(requiredFieldsMessage),!1):!0}function validateSurvivorNeeds(n){var t="";return enterKey!="false"?(document.getElementById(enterKey).blur(),enterKey="false",!1):(document.getElementById("updateSurvivor_maritalStatus").value=="M"&&(t+=validateEmpty(n.sfirstname),t+=validateEmpty(n.slastname),t+=n.sage.value!=""&&n.sage.value.length>0?validateAge(n.sage):validateBday(n.sbirthdate,"true")),t+=validateEmpty(n.cfirstname),t+=validateEmpty(n.clastname),t+=n.cage.value!=""&&n.cage.value.length>0?validateAge(n.cage):validateBday(n.cbirthdate,"true"),t+=validateEmail(n.email,"false"),n.cage.value!=""&&n.cage.value.length>0?(document.getElementById("updateSurvivor_dependents_0__name").value!=""&&(t+=validateAge(n.updateSurvivor_dependents_0__age)),document.getElementById("updateSurvivor_dependents_1__name").value!=""&&(t+=validateAge(n.updateSurvivor_dependents_1__age)),document.getElementById("updateSurvivor_dependents_2__name").value!=""&&(t+=validateAge(n.updateSurvivor_dependents_2__age)),document.getElementById("updateSurvivor_dependents_3__name").value!=""&&(t+=validateAge(n.updateSurvivor_dependents_3__age)),document.getElementById("updateSurvivor_dependents_4__name").value!=""&&(t+=validateAge(n.updateSurvivore_dependents_4__age))):(document.getElementById("updateSurvivor_dependents_0__name").value!=""&&(t+=validateBday(n.updateSurvivor_dependents_0__birthdate,"true")),document.getElementById("updateSurvivor_dependents_1__name").value!=""&&(t+=validateBday(n.updateSurvivor_dependents_1__birthdate,"true")),document.getElementById("updateSurvivor_dependents_2__name").value!=""&&(t+=validateBday(n.updateSurvivor_dependents_2__birthdate,"true")),document.getElementById("updateSurvivor_dependents_3__name").value!=""&&(t+=validateBday(n.updateSurvivor_dependents_3__birthdate,"true")),document.getElementById("updateSurvivor_dependents_4__name").value!=""&&(t+=validateBday(n.updateSurvivor_dependents_4__birthdate,"true"))),t!="")?(alert(requiredFieldsMessage),!1):!0}function validateDependent(n){var t="";return(t+=validateEmpty(n.name),t+=validateBday(n.birthdate,"false"),n.age!=""&&n.age.length>0&&(t+=validateAge(n.age)),t+=validateInteger(n.startingAge),t+=validateInteger(n.yearsNeeded),t!="")?(alert(requiredFieldsMessage),!1):!0}function validateCompany(n){var t="",i;if(t+=validateEmpty(n.companyName),t+=validateEmpty(n.firstName),t+=validateEmpty(n.lastName),t+=validateEmpty(n.phone),t+=validateEmpty(n.address1),t+=validateEmpty(n.city),t+=validateEmpty(n.state),t+=validateEmpty(n.countryCode),t+=validateEmpty(n.postalCode),t+=validateEmail(n.email,"true"),t+=validateColor(n.color1),t+=validateColor(n.color2),t+=validateColor(n.color3),t+=validateColor(n.color4),t+=validateColor(n.color5),t+=validateColor(n.color6),t!=""){for(messageElements=document.getElementsByClassName("messages"),i=0;i<messageElements.length;i++)messageElements[i].style.display="none";return alert(requiredFieldsMessage),!1}return!0}function validateAddClient(n){var t="";return(document.getElementById("addClient_maritalStatus").value=="Married"&&(t+=validateEmpty(n.sfirstname),t+=validateEmpty(n.slastName),t+=validateBday(n.sbirthdate,"true")),t+=validateEmpty(n.cfirstname),t+=validateEmpty(n.clastName),t+=validateBday(n.cbirthdate,"true"),t+=validateEmail(n.email,"false"),t!="")?(alert(requiredFieldsMessage),!1):!0}function validateUpdateClient(n){var t="",i;if(n.maritalStatus.value=="M"&&(t+=validateEmpty(n.sfirstname),t+=validateEmpty(n.slastname),t+=validateBday(n.sbirthdate,"false")),t+=validateEmpty(n.cfirstname),t+=validateEmpty(n.clastname),t+=validateBday(n.cbirthdate,"false"),t+=validateEmail(n.email,"false"),t!=""){for(messageElements=document.getElementsByClassName("messages"),i=0;i<messageElements.length;i++)messageElements[i].style.display="none";return alert(requiredFieldsMessage),!1}return!0}function validateUpdateUser(n){var t="";return(t+=validateEmpty(n.firstName),t+=validateEmpty(n.lastName),t+=validateEmpty(n.email),t+=validatePasswords(n.password,n.confirmPassword),t+=validatePasswordLength(n.password),t+=validateColor(n.color1),t+=validateColor(n.color2),t+=validateColor(n.color3),t+=validateColor(n.color4),t+=validateColor(n.color5),t+=validateColor(n.color6),n.emailCheckResult.value.length!=0)?n.currentEmailAddress.value==n.email.value?!0:(document.getElementById("updateUser_email").style.background="#0075A8",alert(emailUserNameAlreadyInUse),!1):t!=""?(document.getElementById("message")!=null&&(document.getElementById("message").style.display="none"),alert(requiredFieldsMessage),!1):!0}function validateUpdateProfile(n){var t="";return(t+=validateEmpty(n.firstName),t+=validateEmpty(n.lastName),t+=validateEmpty(n.email),t+=validatePasswords(n.password,n.confirmPassword),t+=validatePasswordLength(n.password),t+=validateColor(n.color1),t+=validateColor(n.color2),t+=validateColor(n.color3),t+=validateColor(n.color4),t+=validateColor(n.color5),t+=validateColor(n.color6),n.emailCheckResult.value.length!=0)?n.currentEmailAddress.value==n.email.value?!0:(document.getElementById("saveOrUpdateUser_email").style.background="#0075A8",alert(emailUserNameAlreadyInUse),!1):t!=""?(document.getElementById("message")!=null&&(document.getElementById("message").style.display="none"),alert(requiredFieldsMessage),!1):!0}function validateInsertUser(n){var t="";return(t+=validateEmpty(n.firstName),t+=validateEmpty(n.lastName),t+=validateEmpty(n.password),t+=validateEmpty(n.email),t+=validateEmpty(n.confirmPassword),t+=validatePasswords(n.password,n.confirmPassword),t+=validatePasswordLength(n.password),t+=validateColor(n.color1),t+=validateColor(n.color2),t+=validateColor(n.color3),t+=validateColor(n.color4),t+=validateColor(n.color5),t+=validateColor(n.color6),n.emailCheckResult.value.length!=0)?(document.getElementById("insertUser_email").style.background="#0075A8",alert(emailUserNameAlreadyInUse),!1):t!=""?(alert(requiredFieldsMessage),!1):!0}function validateNewUserSignup(n){var t="";return n.payflowlink_userAgreementCheckbox.checked?(t+=validateEmpty(n.USER2),t+=validateEmpty(n.USER3),t+=validateEmpty(n.USER4),t+=validateEmpty(n.EMAIL),t+=validateEmail(n.EMAIL,"true"),t+=validateEmpty(n.NAME),t+=validateEmpty(n.ADDRESS),t+=validateEmpty(n.CITY),t+=validateEmpty(n.ZIP),t+=validateEmpty(n.confirmPassword),t+=validatePasswords(n.USER4,n.confirmPassword),t+=validatePasswordLength(n.USER4),n.emailCheckResult.value.length!=0)?(document.getElementById("emailCheckResult").style.background="#0075A8",alert(emailAlreadyInUseMessage),!1):t!=""?(alert(requiredFieldsMessage),!1):!0:(alert(readSubscriberAgreementText),!1)}function validateResetPassword(n){var t="";return(t+=validateEmpty(n.password),t+=validateEmpty(n.confirmPassword),t+=validatePasswords(n.password,n.confirmPassword),t+=validatePasswordLength(n.password),t!="")?(alert(requiredFieldsMessage),!1):!0}function validateRequestPasswordReset(n){var t="";return(t+=validateEmpty(n.email),t+=validateEmail(n.email,"true"),t!="")?(alert(requiredFieldsMessage),!1):!0}function validatePasswordLength(n){var t="";return n.value.length==0?t:(n.value.length<8?(n.style.background="#0075A8",t="Password needs to be at least 8 characters long.\n"):n.style.background="White",t)}function validatePasswords(n,t){var i="";return n.value.length==0&&t.value.length==0?i:(n.value!=t.value?(n.style.background="#0075A8",t.style.background="#0075A8",i="Passwords do not match.\n"):(n.style.background="White",t.style.background="White"),i)}function validateEmpty(n){var t="";return n.value.length==0?(n.style.background="#0075A8",t="The required field has not been filled in.\n"):n.style.background="White",t}function validateBday(n,t){var i="",r,u,f;if(value=n.value.replace(/\//g,"-"),n.value=value,birthDateArray=value.split("-"),r="",birthDateArray!=""){if(birthDateArray[2]==null)return i="Date format is incorrect.",n.style.background="#0075A8",i;birthDateArray[2].length==2&&(r="19"+birthDateArray[2],n.value=birthDateArray[0]+"-"+birthDateArray[1]+"-"+r)}return n.value.length==0?(t!="true"?n.style.background="White":(i="Date format is incorrect.",n.style.background="#0075A8"),i):n.value.length>10?(i="Date format is incorrect.",n.style.background="#0075A8",i):(u=new RegExp("[0-1][0-9][-][0-9][0-9][-][0-9][0-9][0-9][0-9]"),u.test(n.value)==!1)?(i="Date format is incorrect.",n.style.background="#0075A8",i):(n.style.background="White",n.value.substring(0,2)>12)?(i="Date format is incorrect.",n.style.background="#0075A8",i):(n.style.background="White",n.value.substring(3,5)>31)?(i="Date format is incorrect.",n.style.background="#0075A8",i):(n.style.background="White",f=new Date,n.value.substring(6,10)<1800||n.value.substring(6,10)>f.getFullYear()+1)?(i="Date format is incorrect.",n.style.background="#0075A8",i):(n.style.background="White",i)}function validatePercentage(n,t){var i="";return(value=n.value,value[value.length-1]=="%"&&(value=value.substring(0,value.length-1)),n.value.length==0)?(n.style.background="White",i):(value>t?(i="Invalid number.",n.style.background="#0075A8"):n.style.background="White",i)}function validateInteger(n){var t="";return n.value.length==0?(n.style.background="White",t):(n.value>1e3||n.value<0?(t="Invalid number.",n.style.background="#0075A8"):n.style.background="White",t)}function validateEmail(n,t){var i="",r;return n.value.length==0?(t!="true"?n.style.background="White":(i="Email format is incorrect.",n.style.background="#0075A8"),i):(r=new RegExp(/\S+@\S+\.\S+/),r.test(n.value)==!1?(i="Email format is incorrect.",n.style.background="#0075A8"):n.style.background="White",i)}function isNumberKey(n){var t=n.which?n.which:n.keyCode;return t>31&&(t<48||t>57)?!1:!0}function checkInput(n){var t=/[^0-9]/gi;t.test(n.value)&&(n.value=n.value.replace(t,""))}function clearHighlight(n){document.getElementById(n).style.backgroundColor=="rgb(0, 117, 168)"&&(document.getElementById(n).style.backgroundColor="White")}function validateColor(n){var i="",t,r;return n==null?i:n.value.length==0||n.value==" "?i:(t=n.value,t[0]=="#"&&(t=t.substr(1)),r=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,t.length<6?(n.style.background="#0075A8",i="Color needs to be 6 characters long.\n"):r.test(t)==!1?(n.style.background="#0075A8",i="Invalid characters in color field.\n"):n.style.background="White",i)}function checkPercentageNoReset(n,t,i){value=document.getElementById(n).value;value[value.length-1]=="%"&&(value=value.substring(0,value.length-1));value.length==0||(value>t?alert(percentLessThanErrorMessage+t+"%"):value<i&&alert(percentGreaterThanErrorMessage+i+"%"))}function checkPercentage(n,t,i){value=document.getElementById(n).value;value[value.length-1]=="%"&&(value=value.substring(0,value.length-1));value.length==0||(value>t?(document.getElementById(n).value=t+"%",alert(percentLessThanErrorMessage+t+"%")):value<i&&(document.getElementById(n).value=i+"%",alert(percentGreaterThanErrorMessage+i+"%")))}function checkAge(n,t,i){value=document.getElementById(n).value;t=parseInt(t);i=parseInt(i);value>t?(document.getElementById(n).value=t,alert(numberLessThanErrorMessage+t)):value<i&&(document.getElementById(n).value=i,alert(numberGreaterThanErrorMessage+i))}function checkOverrideAge(n,t,i){value=document.getElementById(n).value;t=parseInt(t);i=parseInt(i);value>t?(document.getElementById(n).value=t,alert(numberLessThanErrorMessage+t)):value<i&&value!=0&&(document.getElementById(n).value=0,alert(numberGreaterThanErrorMessage+i))}function checkMoney(n){value=document.getElementById(n).value;value=value.replace(/,/g,"");value=value.replace(/\$/g,"");negative=!1;value[0]=="-"&&(value=value.substr(1),negative=!0);value>1e7&&negative==!1?(document.getElementById(n).value="$ 10,000,000",alert(maximumMoneyMessage)):value>1e7&&negative==!0&&(document.getElementById(n).value="-$ 10,000,000",alert(minimumMoneyMessage))}function checkBday(n,t){var r,i,u,f;value=document.getElementById(n).value;value=value.replace(/\//g,"-");document.getElementById(n).value=value;birthDateArray=value.split("-");r="";birthDateArray.length>2&&birthDateArray[2].length==2&&(r="19"+birthDateArray[2],document.getElementById(n).value=birthDateArray[0]+"-"+birthDateArray[1]+"-"+r,value=document.getElementById(n).value,value=value.replace(/\//g,"-"),document.getElementById(n).value=value);i="";value.length==0&&(t!="true"||(i="Date format is incorrect.",document.getElementById(n).style.background="#0075A8"));value.length>10&&(i="Date format is incorrect.",document.getElementById(n).style.background="#0075A8");value.length<8&&(i="Date format is incorrect.",document.getElementById(n).style.background="#0075A8");u=new RegExp("[0-1][0-9][-][0-9][0-9][-][0-9][0-9][0-9][0-9]");u.test(value)==!1&&(i="Date format is incorrect.",document.getElementById(n).style.background="#0075A8");value.substring(0,2)>12?(i="Date format is incorrect.",document.getElementById(n).style.background="#0075A8"):document.getElementById(n).style.background="White";value.substring(3,5)>31?(i="Date format is incorrect.",document.getElementById(n).style.background="#0075A8"):document.getElementById(n).style.background="White";f=new Date;value.substring(6,10)<1800||value.substring(6,10)>f.getFullYear()+1?(i="Date format is incorrect.",document.getElementById(n).style.background="#0075A8"):document.getElementById(n).style.background="White";i!=""?(alert(birthdateErrorMessage),document.getElementById(n).style.background="#0075A8"):document.getElementById(n).style.background="White"}function nextOnEnter(n,t){t=t||event;nextOnEnter.fields=nextOnEnter.fields||getTabbableFields();t.keyCode===13&&(alert("enetr"),t.preventDefault?t.preventDefault():t.stopPropagation?t.stopPropagation():t.returnValue=!1)}function validateClientEndRetirementAnalysis(){clientDOB=document.getElementById("updateRetirement_cbirthdate").value;error="";clientDOB=clientDOB.replace(/-/g,"/");var n=new Date,t=n-new Date(clientDOB),i=Math.round(t/864e5-1),r=Math.round(i/365);return r+69<document.getElementById("updateRetirement_cretireEndAge").value&&(error+="Age to end retirement analysis exceeds allowed range."),document.getElementById("updateRetirement_cretireEndAge").style.background=error!=""?"#0075A8":"White",error}function validateSpouseEndRetirementAnalysis(){spouseDOB=document.getElementById("updateRetirement_sbirthdate").value;error="";spouseDOB=spouseDOB.replace(/-/g,"/");var n=new Date,t=n-new Date(spouseDOB),i=Math.round(t/864e5-1),r=Math.round(i/365);return r+69<document.getElementById("updateRetirement_sretireEndAge").value&&(error+="Age to end retirement analysis exceeds allowed range."),document.getElementById("updateRetirement_sretireEndAge").style.background=error!=""?"#0075A8":"White",error}function validateAge(n){var t="";return n.value.length==0?(n.style.background="#0075A8",t="Invalid age."):n.value>120||n.value<0?(t="Invalid age.",n.style.background="#0075A8"):n.style.background="White",t}var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},elementOnloadDirective,modes,Application;(function(n){var t;(function(t){var i=function(){function t(t,i,r){this.$route=t;this.$routeParams=i;this.$location=r;this.$insert=["$route","$routeParams","$location"];var u=new n.Config.version;console.log(u);this.Title="PFSA Tools V"+u.number}return t}();t.MainCtrl=i;app.controller("MainCtrl",i)})(t=n.Controllers||(n.Controllers={}))})(Application||(Application={}));app.factory("$localstorage",["$window",function(n){return{set:function(t,i){n.localStorage[t]=i},get:function(t){return n.localStorage[t]||!1},setObject:function(t,i){n.localStorage[t]=JSON.stringify(i)},getObject:function(t){return n.localStorage[t]!=undefined?JSON.parse(n.localStorage[t]||!1):!1},remove:function(t){n.localStorage.removeItem(t)},clear:function(){n.localStorage.clear()}}}]),function(n){var t;(function(n){var t,i;(function(n){n[n.primary=0]="primary";n[n.spousal=1]="spousal";n[n.address=2]="address";n[n.cashNeeds=3]="cashNeeds";n[n.pension=4]="pension";n[n.assets=5]="assets";n[n.receipts=6]="receipts";n[n.dependants=7]="dependants";n[n.liabilities=8]="liabilities";n[n.submit=9]="submit";n[n.success=10]="success"})(t||(t={}));i=function(){function n(n,i,r){this.$http=n;this.$httpParamSerializer=i;this.$cookies=r;this.modes=[];this.$insert=["$http","$httpParamSerializer","$cookies"];var u=t;this.modes.push({id:u.primary,name:"primary"});this.modes.push({id:u.spousal,name:"spousal"});this.modes.push({id:u.address,name:"address"});this.modes.push({id:u.assets,name:"assets"});this.modes.push({id:u.cashNeeds,name:"cashNeeds"});this.modes.push({id:u.dependants,name:"dependants"});this.modes.push({id:u.liabilities,name:"liabilities"});this.modes.push({id:u.pension,name:"pension"});this.modes.push({id:u.submit,name:"submit"});this.modes.push({id:u.success,name:"success"})}return n.prototype.getPrimaryCookie=function(){var n=this.$cookies.getObject("primary");return n||(n={}),n},n.prototype.getIncomeCookie=function(){return this.getCookie("income")},n.prototype.setIncomeCookie=function(n){this.setCookie("income",n)},n.prototype.getCookie=function(n){var t=this.$cookies.getObject(n);return t||(t={}),t},n.prototype.setCookie=function(n,t){var i=new Date;i.setDate(i.getDate()+100);this.$cookies.putObject(n,t,{expires:i})},n.prototype.getFormattedDate=function(n){var r=n.getFullYear(),i=(1+n.getMonth()).toString(),t;return i=i.length>1?i:"0"+i,t=n.getDate().toString(),t=t.length>1?t:"0"+t,i+"-"+t+"-"+r},n.prototype.SubmitData=function(n){var t=this.$httpParamSerializer(n),u,r,i,f;return u="www.plannerportalsrv.com:8443/plannerportalsrv/rest/client/clientInsert",r="/tools/proxy.php?url="+u,i=/someregex/ig,i=/_zero_/ig,t=t.replace(i,"[0]."),i=/_one_/ig,t=t.replace(i,"[1]."),i=/_two_/ig,t=t.replace(i,"[2]."),i=/_three_/ig,t=t.replace(i,"[3]."),i=/_four_/ig,t=t.replace(i,"[4]."),t="cage=03-25-1930",t=t+"&csalutation=Mr.",t=t+"&csalutation=Mr.",t=t+"&cfirstname=test",t=t+"&clastname=tester",t=t+"&cbirthdate=03-20-1987",t=t+"&coccupation=programmer",t=t+"&cemployer=selfemployed",t=t+"&address1=address1",t=t+"&address2=address2",t=t+"&city=San Francisco",t=t+"&state=CA",t=t+"&postalCode=94133",t=t+"&email=dmorris@morrisdev.com",t=t+"&maritalStatus=M",t=t+"&submit=Request a Report",t=t+"&userId=R3Y5P2YDS70=",t=t+"&liabilitiesString=",t=t+"&dependentsString=",t=t+"&targetFactFinder=College",t="cage=20&sage=20&csalutation=Mr.&ssalutation=%3F+string%3AMrs+%3F&cfirstname=cfirstname3&sfirstname=sfirstname&clastname=clastname&slastname=slastname&cbirthdate=cbirthdate&sbirthdate=sbirthdate&coccupation=coccupation&soccupation=soccupation&cemployer=cemployer&semployer=semployer&address1=address1&address2=address2&city=city&state=AR&postalCode=postalCode&phone=&email=&maritalStatus=M&submit=Request+a+Report&userId=R3Y5P2YDS70%3D&liabilitiesString=&dependentsString=&targetFactFinder=College",f={method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t},console.log(t),this.$http.post(r,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},n}();n.plannerPortal=i;app.service("plannerPortal",i)})(t=n.Services||(n.Services={}))}(Application||(Application={})),function(n){var t;(function(n){var u=function(){function n(){this.author="Morris Development";this.supportContact="dmorris@morrisdev.com";this.apiKey="dswejkdfkui8yoihkjnlj98776tsad87sd9809fdijsnekjjdsoidjs";this.apiServer="http://localhost:53035/";this.number="1.4"+Math.random();var n=window.location.host;console.log(n);this.apiServer=n.substring(0,5)==="local"?"http://localhost:53035":"http://api.pfsa.morrisdev.com"}return n}(),t,i,r;n.version=u;t=function(){function n(n,t){this.$routeProvider=n;this.$locationProvider=t;this.$insert=["$routeProvider","$locationProvider","$location"];this.$routeProvider.when("/",{template:"<login><\/login>"}).when("/home",{template:"<index><\/index>"}).when("/contact",{template:"<contact><\/contact>"}).when("/contact-us",{template:"<contact-us><\/contact-us>"}).when("/mailing-list",{template:"<mailing-list><\/mailing-list>"}).when("/retirement",{template:"<retirement-planner><\/retirement-planner>"}).when("/refer",{template:"<refer><\/refer>"}).when("/survivor/:view?",{template:"<survivor-needs-planner><\/survivor-needs-planner>"}).when("/cp/:view?",{template:"<college-planner><\/college-planner>"}).when("/agents",{template:"<agent-list><\/agent-list>"}).when("/linc",{template:"<needs><\/needs>"}).when("/library/catalog",{template:"<navbar><\/navbar><library><\/library>"}).when("/library/catalog/add",{template:"<navbar><\/navbar><book><\/book>"}).when("/library/catalog/request/:prefix/:booknumber",{template:"<navbar><\/navbar><reservation><\/reservation>"}).when("/library/catalog/:mode/:prefix/:booknumber",{template:"<navbar><\/navbar><book><\/book>"}).when("/library/advanced",{template:"<navbar><\/navbar><reservation><\/reservation>"}).when("/library/requests",{template:"<navbar><\/navbar><requests><\/requests>"}).when("/library/requests/:mode/:prefix/:booknumber",{template:"<navbar><\/navbar><requests><\/requests>"}).when("/library/subjects",{template:"<navbar><\/navbar><subjects><\/subjects>"}).when("/library/accounts/add",{template:"<navbar><\/navbar><account><\/account>"}).when("/library/accounts/:accountid",{template:"<navbar><\/navbar><account><\/account>"}).when("/library/accounts",{template:"<navbar><\/navbar><account><\/account>"}).when("/library/preview/:barcode",{template:"<book-preview><\/book-preview>"}).when("/madlib",{template:"<madlib><\/madlib>"}).when("/hang-man",{template:"<hang-man><\/hang-man>"}).when("/request-quote",{template:'<request-quote email-to="it@morrisdev.com"><\/request-quote>'}).when("/library/recent-additions",{template:"<recent-additions><\/recent-additions>"}).otherwise({redirectTo:"/"});this.$locationProvider.html5Mode(!1)}return n}();n.routes=t;app.config(t);i=function(){function n(n){this.$httpProvider=n;this.$insert=["$httpProvider"];this.$httpProvider.defaults.useXDomain=!0;this.$httpProvider.defaults.withCredentials=!1;delete this.$httpProvider.defaults.headers.common["X-Requested-With"]}return n}();n.httpConfig=i;app.config(i);r=function(){function n(){this.collegePlanner=ROOT_PATH+"app/pages/collegePlanner/collegePlanner.html";this.index=ROOT_PATH+"app/pages/index/index.html";this.linc=ROOT_PATH+"app/pages/linc/linc.html";this.retirementPlanner=ROOT_PATH+"app/pages/retirementPlanner/retirementPlanner.html";this.survivorNeedsPlanner=ROOT_PATH+"app/pages/survivorNeedsPlanner/survivorNeedsPlanner.html";this.library=ROOT_PATH+"app/pages/library/library.html";this.agent=ROOT_PATH+"app/components/agent/agent.html";this.agentList=ROOT_PATH+"app/components/agentList/agentList.html";this.book=ROOT_PATH+"app/pages/library/book/book.html";this.subjects=ROOT_PATH+"app/pages/library/subjects/subjects.html";this.account=ROOT_PATH+"app/pages/library/account/account.html";this.navbar=ROOT_PATH+"app/pages/library/navbar/navbar.html";this.reservation=ROOT_PATH+"app/pages/library/reservation/reservation.html";this.requests=ROOT_PATH+"app/pages/library/requests/requests.html";this.address=ROOT_PATH+"app/components/address/address.html";this.assets=ROOT_PATH+"app/components/assets/assets.html";this.cashNeeds=ROOT_PATH+"app/components/cashNeeds/cashNeeds.html";this.contact=ROOT_PATH+"app/components/contact/contact.html";this.contactUs=ROOT_PATH+"app/components/contact-us/contact-us.html";this.dependants=ROOT_PATH+"app/components/dependants/dependants.html";this.income=ROOT_PATH+"app/components/income/income.html";this.insurance=ROOT_PATH+"app/components/insurance/insurance.html";this.liabilities=ROOT_PATH+"app/components/liabilities/liabilities.html";this.librarySearch=ROOT_PATH+"app/components/library-search/library-search.html";this.needs=ROOT_PATH+"app/components/needs/needs.html";this.objectives=ROOT_PATH+"app/components/objectives/objectives.html";this.pension=ROOT_PATH+"app/components/pension/pension.html";this.primaryContact=ROOT_PATH+"app/components/primaryContact/primaryContact.html";this.rateAssumptions=ROOT_PATH+"app/components/rateAssumptions/rateAssumptions.html";this.receipts=ROOT_PATH+"app/components/receipts/receipts.html";this.savings=ROOT_PATH+"app/components/savings/savings.html";this.socialSecurityOverride=ROOT_PATH+"app/components/socialSecurityOverride/socialSecurityOverride.html";this.spousalContact=ROOT_PATH+"app/components/spousalContact/spousalContact.html";this.survivorNeeds=ROOT_PATH+"app/components/survivorNeeds/survivorNeeds.html";this.mailingList=ROOT_PATH+"app/components/mailingList/mailingList.html";this.madlibs=ROOT_PATH+"app/components/madlibs/madlibs.html";this.hangMan=ROOT_PATH+"app/components/hangman/hangman.html";this.requestQuote=ROOT_PATH+"app/components/request-quote/request-quote.html";this.refer=ROOT_PATH+"app/components/refer/refer.html";this.bookTile=ROOT_PATH+"app/pages/library/book/bookTile.html";this.recentAdditions=ROOT_PATH+"app/pages/library/recentAdditions/recentAdditions.html";console.log(window.location.pathname);var n=new u;this.linc+="?v="+n.number;this.agent+="?v="+n.number;this.address+="?v="+n.number;this.pension+="?v="+n.number;this.income+="?v="+n.number;this.objectives+="?v="+n.number;this.primaryContact+="?v="+n.number;this.spousalContact+="?v="+n.number;this.needs+="?v="+n.number;this.rateAssumptions+="?v="+n.number;this.survivorNeedsPlanner+="?v="+n.number;this.dependants+="?v="+n.number;this.insurance+="?v="+n.number;this.liabilities+="?v="+n.number;this.survivorNeeds+="?v="+n.number;this.cashNeeds+="?v="+n.number;this.assets+="?v="+n.number;this.savings+="?v="+n.number;this.index+="?v="+n.number;this.library+="?v="+n.number;this.book+="?v="+n.number}return n.prototype.GetUrl=function(n){var t=this;switch(n){case"address":return t.address;case"mailingList":return t.mailingList+"?v="+new Date;case"requestQuote":return t.requestQuote+"?v="+new Date;case"refer":return t.refer+"?v="+new Date;default:return console.log("ERROR: TEMPLATE "+n+" NOT FOUND"),"ERROR"}},n}();n.templates=r;app.service("templates",r)})(t=n.Config||(n.Config={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="address";this.$insert=["plannerPortal"];this.formData||(this.formData={})}return n.prototype.$onInit=function(){this.formData=this.plannerPortal.getCookie(this.formName)},n.prototype.update=function(){console.log("setting address cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.address=t;app.component("address",{templateUrl:function(n){return n.GetUrl("address")},bindings:{formData:"="},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(){console.log("MADE AN AGENT")}return n}();n.AgentModel=t})(t=n.Models||(n.Models={}))}(Application||(Application={})),function(n){var t;(function(t){var u=function(n){function t(){n.call(this)}return __extends(t,n),t}(n.Models.AgentModel),r=function(){function n(n,t,i){this.classActive="tab-pane active";this.classInactive="tab-pane";this.home=n;this.profile=t;this.contact=i}return n.prototype.SetTab=function(n){this.CloseTabs();n==="home"&&(this.home=!0);n==="profile"&&(this.profile=!0);n==="contact"&&(this.contact=!0)},n.prototype.CloseTabs=function(){this.home=!1;this.profile=!1;this.contact=!1},n.prototype.GetClass=function(n){var i=this.classInactive,t=this.classActive;return n=="home"&&this.home?t:n=="profile"&&this.profile?t:n=="contact"&&this.contact?t:i},n}(),i=function(){function t(t,i,u,f){this.$location=t;this.$sce=i;this.$cookies=u;this.$http=f;this.MailServer=new n.Services.MailService(this.$http,this.$location);this.sending=!1;this.sent=!1;this.$insert=["$location","$sce","$cookies","$http"];this.tabs=new r(!0,!1,!1)}return t.prototype.Contact=function(){var u=this;this.sending=!0;var n={},t={},f=this.MailServer,i=this.agent,r=this.form;n.to=this.agent.ContactInfo.email;n.cc="victor.fernandes@mypfsa.org";n.from="info@mypfsa.org";n.subject="Someone is contacting you from the PFSA Website!";n.message="\n                            Hi "+i.firstName+",\n                            <p>\n                            "+r.name+" has sent you the following message\n                            <\/p>\n                            <hr>\n                            "+r.message+"\n                            <hr>\n                            You can contact them here: "+r.contact+"\n                            <p>Sincerely,<\/p>\n                            <p>The PFSA Website<\/p>\n                            ";n.key="dswejkdfkui8yoihkjnlj98776tsad87sd9809fdijsnekjjdsoidjs";t.to=r.contact;t.from="info@mypfsa.org";t.subject="Thanks for contacting the PFSA";t.message="\n                            Hi "+r.name+",\n                            <p>\n                            "+i.firstName+" "+i.lastName+" has been sent your message.   \n                            <\/p>\n                            <p> If you would like to contact them directly, here is the contact information:\n                            <\/p>\n                            <ul>\n                                <li>Office Phone: "+i.ContactInfo.officePhone+"<\/li>\n                                \n                                <li>Email: "+i.ContactInfo.email+"<\/li>\n                                \n                            <\/li>\n                          \n                            <p>Sincerely,<\/p>\n                            <p>The PFSA<\/p>\n                            ";t.key="dswejkdfkui8yoihkjnlj98776tsad87sd9809fdijsnekjjdsoidjs";f.SendMail(n).then(function(n){console.log(n);u.sent=!0;u.sending=!1});f.SendMail(t).then(function(n){console.log(n)})},t.prototype.$onInit=function(){this.agent.photoUrl||(this.agent.photoUrl="http://pfsa.morrisdev.com/tools/app/components/agent/no-person.jpg");this.agent.photoUrl.indexOf("://")<1&&(console.log("invalid photo url"),this.agent.photoUrl="http://pfsa.morrisdev.com/tools/app/components/agent/no-person.jpg")},t.prototype.go=function(n){this.$location.url(n)},t}();t.Agent=i;app.component("agent",{controller:i,controllerAs:"vm",bindings:{agent:"<"},templateUrl:function(n){return n.agent}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t){this.$location=n;this.$http=t;this.agents=[];this.agent={};this.$insert=["$location","$http"]}return n.prototype.GetAgents=function(){var t=this,n=ROOT_PATH+"app/data/agents.json?v="+new Date;n="http://pfsa.morrisdev.com/wp-content/plugins/md-agents/agents.php?v="+new Date;this.$http.get(n).then(function(n){console.log(n);t.agents=n.data})},n.prototype.$onInit=function(){var i,t,n;this.GetAgents();i={};i.city="Manteca";i.state="CA";t={};t.officePhone="209-275-0200";t.fax="555-555-5555";t.email="joe.seamas@mypfsa.org";n=this.agent;n.firstName="Joe";n.lastName="Seamas";n.primaryAddress=i;n.license="Lic# 0C00867";n.ContactInfo=t;n.facebook="https://www.facebook.com/mypfsa.California";n.linkedIn="https://www.linkedin.com/";n.photoUrl="http://pfsa.morrisdev.com/wp-content/uploads/2016/08/Joe-Seamas-3-272x300.jpg";n.bio="   have been in the insurance industry since 1984 and have experience on both the independent side, \n                        as well as the direct writer side of the business.  \n                        Utilizing my extensive experience and knowledge of the insurance industry, \n                        I am better equipped to service all your insurance needs. \n<p>\n                        My goal is to build long lasting relationships with my customers.  I want to be your agent for life and for the generations to come.  By having many insurance companies, I can shop around for the best price for you.  Myself and my staff are always available to help with all your insurance questions and concerns.  My core values include honesty and integrity when dealing with all of our customers.  I take pride in representing you as my customer and meetings your needs, not just looking out for the insurance companies.\n<\/p>"},n.prototype.go=function(n){this.$location.url(n)},n}();n.AgentList=t;app.component("agentList",{controller:t,controllerAs:"vm",templateUrl:function(n){return n.agentList}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="assets";this.assetList=[];this.$insert=["plannerPortal"]}return n.prototype.$onInit=function(){console.log("Getting "+this.formName+" Cookie");this.formData=this.plannerPortal.getCookie(this.formName);this.setup()},n.prototype.setup=function(){var n,t;for(this.formData.assets||(this.formData.assets=[]),n=this.formData.assets,angular.forEach(n,function(){}),t=n.length;t<10;t++)n.push({})},n.prototype.update=function(){console.log("setting "+this.formName+" cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n.prototype.getTotal=function(){for(var n,i=0,r=this.formData.assets,t=0;t<r.length;t++)n=r[t],n.value&&n.value>0&&(i+=parseFloat(n.value));return i},n}();n.assets=t;app.component("assets",{templateUrl:function(n){return n.assets},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="cashNeeds";this.assetList=[];this.$insert=["plannerPortal"]}return n.prototype.$onInit=function(){console.log("Getting "+this.formName+" Cookie");this.formData=this.plannerPortal.getCookie(this.formName);this.setup()},n.prototype.setup=function(){this.formData||(this.formData={});this.formData.estateAdminCost||(this.formData.estateAdminCost=0);this.formData.funeralCost||(this.formData.funeralCost=0)},n.prototype.update=function(){console.log("setting "+this.formName+" cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.cashNeeds=t;app.component("cashNeeds",{templateUrl:function(n){return n.cashNeeds},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r){this.$scope=n;this.$location=t;this.salesForce=i;this.mailChimp=r;this.showForm=!0;this.success=!1;this.sending=!1;this.fail=!1;this.account={};this.$insert=["$scope","$location","salesForce","mailChimp"]}return n.prototype.$onInit=function(){console.log("contact.ts");this.Test=this.$location.absUrl()},n.prototype.ResetForm=function(){this.showForm=!0;this.sending=!1;this.success=!1;this.fail=!1},n.prototype.IsValid=function(){var n=this.$scope.myForm;return n.$valid},n.prototype.Invalid=function(){alert("Sorry, you need to make sure have added your last name and a valid email")},n.prototype.SendToMailChimp=function(){this.mailChimp.CreateMember(this.account).then(function(n){console.log(n)})},n.prototype.Contact=function(){var i=this,t,n;this.showForm=!1;this.sending=!0;t=this.account;n={};n.first_name=t.firstName;n.last_name=t.lastName;n.email=t.email;n.age=t.age;n.phone=t.phone;n.details="Contact Widget from Website:"+this.$location.absUrl();n.interest=t.interest;this.salesForce.CreateContact(n).then(function(n){var t=i;i.sending=!1;n.status==200?i.success=!0:i.fail=!0;setTimeout(function(){t.ResetForm()},5e3)});this.SendToMailChimp()},n}();n.contact=t;app.component("contact",{controller:t,controllerAs:"vm",templateUrl:function(n){return n.contact}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(t){var i=function(){function t(n,t,i,r,u){this.$scope=n;this.$location=t;this.salesForce=i;this.mailChimp=r;this.mailService=u;this.mailingLists={};this.showForm=!0;this.success=!1;this.sending=!1;this.fail=!1;this.account={};this.$insert=["$scope","$location","salesForce","mailChimp","mailService"]}return t.prototype.mailingList=function(){},t.prototype.$onInit=function(){this.account.phone="";this.account.lastName="";this.account.firstName="";this.message="";this.ResetForm()},t.prototype.ResetForm=function(){this.showForm=!0;this.sending=!1;this.success=!1;this.fail=!1},t.prototype.IsValid=function(){var n=this.$scope.myForm;return n.$valid},t.prototype.Invalid=function(){alert("Sorry, you need to make sure have added your last name and a valid email")},t.prototype.SendToMailChimp=function(){var i=this,n="",t=this.mailingLists;t.newsletter&&(n+="newsletters,");t.festas&&(n+="festas,");t.cultural&&(n+="cultural,");t.youth&&(n+="youth,");t.community&&(n+="community,");t.social&&(n+="social,");this.account.interest=n;this.showForm=!1;this.sending=!0;this.success=!1;this.fail=!1;this.mailChimp.CreateMember(this.account).then(function(n){console.log(n);i.showForm=!1;i.sending=!1;i.success=!0;i.fail=!1},function(n){console.log(n);this.showForm=!1;this.sending=!1;this.success=!1;this.fail=!0})},t.prototype.Contact=function(){var f=this,t,i;this.showForm=!1;this.sending=!0;t=this.account;i={};i.first_name=t.firstName;i.last_name=t.lastName;i.email=t.email;i.age=t.age;i.phone=t.phone;i.details="Contact Widget from Website:"+this.$location.absUrl();i.interest=t.interest;var e=new n.Config.version,u=this.mailingLists,r={};r.to="mypfsa@mypfsa.org";r.cc="victor.fernandes@mypfsa.org";r.from="donotreply@mypfsa.org";r.subject="New Contact from MyPFSA.org";r.message=this.message+"<hr>\n<p>\nFrom: "+t.firstName+" "+t.lastName+"<br>\nPhone: "+t.phone+" <br>\nEmail: "+t.email+" <br>\n<b>Interests<\/b>\n                                <ul>\n"+this.GetLi("Benefits",u.Benefits)+"\n"+this.GetLi("Products",u.Products)+"\n"+this.GetLi("Library",u.Library)+"\n"+this.GetLi("Scholarships",u.Scholarships)+"\n"+this.GetLi("CommunityEvents",u.CommunityEvents)+"\n"+this.GetLi("Support",u.Support)+" \n<\/ul><\/p><p> mesage was from <\/p>\n                                ";r.key=e.apiKey;this.mailService.SendMail(r).then(function(n){console.log(n);f.showForm=!1;f.sending=!1;f.success=!0;f.fail=!1},function(n){console.log(n);this.showForm=!1;this.sending=!1;this.success=!1;this.fail=!0})},t.prototype.GetLi=function(n,t){return t?"<li>"+n+"<\/li>":""},t}();t.ContactUs=i;app.component("contactUs",{controller:i,controllerAs:"vm",templateUrl:function(n){return n.contactUs+"?v=1"}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u,f,e){this.$scope=n;this.$location=t;this.plannerPortal=i;this.$sce=r;this.$filter=u;this.$routeParams=f;this.$cookies=e;this.formName="dependants";this.formData={};this.demo=!0;this.dependantCount=[0,1,2,3,4];this.$insert=["$scope","$location","plannerPortal","$sce","$filterProvider","$routeParams","$cookies"]}return n.prototype.addBlankDependant=function(n){var t={};this.demo&&(t.name="Lucille Morris",t.birthDate=this.plannerPortal.getFormattedDate(new Date("11/19/2006")),t.goal="College",this.demo=!1);n.push(t)},n.prototype.$onInit=function(){var i,n,t;for(console.log("Getting  "+this.formName+" Cookie"),this.formData=this.plannerPortal.getCookie(this.formName),this.formData||(this.formData={}),this.formData.dependants||(this.formData.dependants=[]),i=this.formData.dependants,n=0,angular.isArray(this.formData.dependants)&&(n=this.formData.dependants.length),t=n;t<5;t++)this.addBlankDependant(i)},n.prototype.update=function(){console.log("setting "+this.formName+" cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.dependants=t;app.component("dependants",{templateUrl:function(n){return n.dependants},bindings:{formData:"="},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var i=function(){function n(n){this.word=n;this.text="";this.letters=[];this.guesses=[];this.failures=0;this.text=this.word;console.log(this.text)}return n.prototype.buildLetters=function(){var i=this,n=this.text,t;n=n.toUpperCase();t=n.split("");angular.forEach(t,function(n){var t={text:n,visible:!1};i.letters.push(t)})},n.prototype.showLetter=function(n){var t=!1;angular.forEach(this.letters,function(i){i.text!=n||i.visible||(i.visible=!0,t=!0)});t||this.failures++},n.prototype.addGuess=function(n){n=n.toUpperCase();this.guesses.push(n);this.showLetter(n);var t=this.checkWin();return t?!0:!1},n.prototype.checkWin=function(){var n=!0;return angular.forEach(this.letters,function(t){t.visible||t.text==" "||(n=!1)}),n},n.prototype.showWord=function(){angular.forEach(this.letters,function(n){n.visible=!0})},n}(),t=function(){function n(n,t,i,r){this.$location=n;this.$sce=t;this.$window=i;this.$scope=r;this.active=!1;this.guessCount=6;this.hanger="";this.samples=[];this.$insert=["$location","$sce","$window","$scope"];this.makeAlphabet();this.w={};var u=this.$location.host();this.rootPath=window.location.pathname;this.hanger=this.rootPath+"app/components/hangman/hang1.jpg"}return n.prototype.makeSamples=function(){var n=this.samples;n.push("I love canday");n.push("stinky toes taste great");n.push("tomoko puts poop in her ears");n.push("Mommy smells funny");n.push("I pour chocolate down my throat");n.push("Licorice is made out of human blood");n.push("Cake for breakfast is great");n.push("Swim class is fun");n.push("Vampire bats do not suck blood");n.push("Daddy likes himself too much");n.push("Marguerite likes to lick people");n.push("Sam pees out pink lemonade");n.push("A lot of people like to eat stars")},n.prototype.$onInit=function(){this.makeSamples()},n.prototype.useSample=function(){this.samples.length==0&&this.makeSamples();this.wordText=this.samples[0];this.samples.shift();this.startGame()},n.prototype.makeAlphabet=function(){this.alphabet=[];var n=this.alphabet;n.push({text:"A",selected:!1});n.push({text:"B",selected:!1});n.push({text:"C",selected:!1});n.push({text:"D",selected:!1});n.push({text:"E",selected:!1});n.push({text:"F",selected:!1});n.push({text:"G",selected:!1});n.push({text:"H",selected:!1});n.push({text:"I",selected:!1});n.push({text:"J",selected:!1});n.push({text:"K",selected:!1});n.push({text:"L",selected:!1});n.push({text:"M",selected:!1});n.push({text:"N",selected:!1});n.push({text:"O",selected:!1});n.push({text:"P",selected:!1});n.push({text:"Q",selected:!1});n.push({text:"R",selected:!1});n.push({text:"S",selected:!1});n.push({text:"T",selected:!1});n.push({text:"U",selected:!1});n.push({text:"V",selected:!1});n.push({text:"W",selected:!1});n.push({text:"X",selected:!1});n.push({text:"Y",selected:!1});n.push({text:"Z",selected:!1})},n.prototype.hangerPath=function(){var n=this.w.failures+1;return this.rootPath+"app/components/hangman/hang"+n+".jpg"},n.prototype.startGame=function(){this.wordText&&this.wordText!=""&&(this.makeAlphabet(),this.w=new i(this.wordText),this.w.buildLetters(),this.guessLetter="")},n.prototype.addLetter=function(n){if(n&&(this.guessLetter=n),this.guessLetter&&this.guessLetter!=""){this.guessLetter=this.guessLetter.substr(0,1);var t=this.w.addGuess(this.guessLetter);if(this.guessLetter="",t){setTimeout(function(){alert("YOU WIN!!!!")},100);this.wordText="";this.active=!1;return}t||this.guessCount!=this.w.failures||this.giveUp()}},n.prototype.giveUp=function(){this.w.showWord();this.wordText="";this.active=!1;this.makeAlphabet()},n}();n.HangMan=t;app.component("hangMan",{controller:t,controllerAs:"vm",templateUrl:function(n){return n.hangMan+"?v="+new Date}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="income";this.$insert=["plannerPortal"]}return n.prototype.$onInit=function(){this.formData=this.plannerPortal.getCookie(this.formName)},n.prototype.update=function(){console.log("setting income cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.income=t;app.component("income",{templateUrl:function(n){return n.income},bindings:{formData:"="},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="insurance";this.assetList=[];this.$insert=["plannerPortal"]}return n.prototype.$onInit=function(){console.log("Getting "+this.formName+" Cookie");this.formData=this.plannerPortal.getCookie(this.formName);this.setup()},n.prototype.setup=function(){var n,t;for(this.formData.assets||(this.formData.assets=[]),n=this.formData.assets,angular.forEach(n,function(){}),t=n.length;t<4;t++)n.push({})},n.prototype.update=function(){console.log("setting "+this.formName+" cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.insurance=t;app.component("insurance",{templateUrl:function(n){return n.insurance},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="liabilities";this.assetList=[];this.$insert=["plannerPortal"]}return n.prototype.$onInit=function(){console.log("Getting "+this.formName+" Cookie");this.formData=this.plannerPortal.getCookie(this.formName);this.setup()},n.prototype.setup=function(){var n,t;for(this.formData.assets||(this.formData.assets=[]),n=this.formData.assets,angular.forEach(n,function(){}),t=n.length;t<5;t++)n.push({})},n.prototype.update=function(){console.log("setting primary contact cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.liabilities=t;app.component("liabilities",{templateUrl:function(n){return n.liabilities},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.$location=n;this.$http=t;this.$mdDialog=i;this.showSpinner=!1;this.linkImage="http://mypfsa.org/wp-content/uploads/2016/05/email.png";this.showResults=!1;this.showError=!1;this.$insert=["$location","$http","$mdDialog"];this.author="";this.title=""}return n.prototype.MailTo=function(n){return"mailto:mypfsa@mypfsa.org?subject="+encodeURIComponent(n.CallNumber+" "+n.Title)},n.prototype.SearchLibrary=function(n,t){var i=this,r;r=n=="author"?"http://api.pfsa.morrisdev.com/api/library/search?prefix=&author="+t+"&title=":"http://api.pfsa.morrisdev.com/api/library/search?prefix=&author=&title="+t;this.$http.get(r).then(function(n){i.showSpinner=!1;i.books=n.data;i.books.length>0?i.showResults=!0:i.NotFound(t)})},n.prototype.$onInit=function(){},n.prototype.NotFound=function(n){this.showError=!0;n&&(this.errorMessage="Sorry, but we didn't find any books in the catalog when searching for "+n+".  Try some different search terms")},n.prototype.Search=function(n){this.showError=!1;this.showSpinner=!0;n=="author"?this.SearchLibrary(n,this.author):this.SearchLibrary(n,this.title)},n}();n.LibrarySearch=t;app.component("librarySearch",{controller:t,controllerAs:"vm",templateUrl:function(n){return n.librarySearch}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(t){var r=function(n){function t(){n.call(this)}return __extends(t,n),t}(n.Models.AgentModel),i=function(){function n(n,t,i,r){var u,f;this.$location=n;this.$sce=t;this.$window=i;this.$scope=r;this.$insert=["$location","$sce","$window","$scope"];u=this;window.speechSynthesis&&(f=new SpeechSynthesisUtterance)}return n.prototype.getVoices=function(){return window.speechSynthesis.getVoices(),window.speechSynthesis.getVoices()},n.prototype.$onInit=function(){var n=this;setTimeout(function(){n.SayIt2()},1e3)},n.prototype.SayIt=function(n){var u=this,r=this.voices,i=r[4],t;console.log(this.selectedVoice);angular.forEach(r,function(n,t){u.selectedVoice==n.name&&(i=n,console.log(t))});console.log(i);t=new SpeechSynthesisUtterance(n);t.lang="en-US";t.pitch=1;t.rate=1;t.voice=i;t.voiceURI=i.voiceURI;t.volume=1;speechSynthesis.speak(t)},n.prototype.SayIt2=function(){console.log("GETTING VOICES");this.voices=this.getVoices();this.$scope.$apply();console.log(this.voices)},n.prototype.go=function(n){this.$location.url(n)},n}();t.MadLib=i;app.component("madlib",{controller:i,controllerAs:"vm",templateUrl:function(n){return n.madlibs+"?v="+new Date}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r){this.$scope=n;this.$location=t;this.salesForce=i;this.mailChimp=r;this.mailingLists={};this.showForm=!0;this.success=!1;this.sending=!1;this.fail=!1;this.account={};this.$insert=["$scope","$location","salesForce","mailChimp"]}return n.prototype.mailingList=function(){},n.prototype.$onInit=function(){this.ResetForm()},n.prototype.ResetForm=function(){this.showForm=!0;this.sending=!1;this.success=!1;this.fail=!1},n.prototype.IsValid=function(){var n=this.$scope.myForm;return n.$valid},n.prototype.Invalid=function(){alert("Sorry, you need to make sure have added your last name and a valid email")},n.prototype.SendToMailChimp=function(){var i=this,n="",t=this.mailingLists;t.newsletter&&(n+="newsletters,");t.festas&&(n+="festas,");t.cultural&&(n+="cultural,");t.youth&&(n+="youth,");t.community&&(n+="community,");t.social&&(n+="social,");this.account.interest=n;this.showForm=!1;this.sending=!0;this.success=!1;this.fail=!1;this.mailChimp.CreateMember(this.account).then(function(n){console.log(n);i.showForm=!1;i.sending=!1;i.success=!0;i.fail=!1},function(n){console.log(n);this.showForm=!1;this.sending=!1;this.success=!1;this.fail=!0})},n.prototype.Contact=function(){this.showForm=!1;this.sending=!0;var t=this.account,n={};n.first_name=t.firstName;n.last_name=t.lastName;n.email=t.email;n.age=t.age;n.phone=t.phone;n.details="Contact Widget from Website:"+this.$location.absUrl();n.interest=t.interest;this.SendToMailChimp()},n}();n.mailingList=t;app.component("mailingList",{controller:t,controllerAs:"vm",templateUrl:function(n){return n.GetUrl("mailingList")}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.$http=n;this.mailChimp=t;this.salesForce=i;this.account={};this.$insert=["$http","salesForce","mailChimp"]}return n.prototype.$onInit=function(){this.displayLINC=!0},n.prototype.onSubmit=function(n){this.obj=n;this.account.amount=n.insuranceNeeds;console.log(this.obj);this.displayLINC=!1;this.hideForm=!1},n.prototype.listAttributes=function(){var i=this.interest,n,t;this.account.interests="";for(n in i)i.hasOwnProperty(n)&&i[n]&&(t=this.CamelcaseToWord(n),t=t.toUpperCase(),this.account.interests+=t+",")},n.prototype.CamelcaseToWord=function(n){return n.replace(/([A-Z]+)/g," $1").replace(/([A-Z][a-z])/g," $1")},n.prototype.requestQuote=function(){var i=this.obj,t,n,r;console.log(i);t=this;t.sending=!0;t.hideForm=!0;n={first_name:"GM",last_name:"Morris",age:32,phone:"555-555-55555",email:"gina@mytest.com",interest:"New Insurance",details:"I really want someone to call me"};this.listAttributes();r=this.account;n.first_name=r.firstName;n.last_name=r.lastName;n.age=r.age;n.phone=r.phone;n.email=r.email;n.interest=r.interests;n.details="<b>ASSETS<\/b>:\n\n\n<b>DEBTS:<\/b>";var u=i.assets,c="ASSETS \n insurance("+u.insurance+") , investments ("+u.investments+"), liquid ("+u.liquid+"),other ("+u.other+")",f=i.debt,l="\nDEBT \n car("+f.car+") , credit ("+f.credit+"), mortgage ("+f.mortgage+"),other ("+f.other+")",o=i.edu,a="\nEDUCATION \n children("+o.children+") , Cost per Child ("+o.costPerChild+")",e=i.expense,v="\nDEBT \n car("+e.final+") , credit ("+e.funeral+"), mortgage ("+e.other+")",s=i.income,y="\nINCOME NEEDS \n monthly("+s.monthly+") , Years ("+s.years+")",h=i.invest,p="\nINVESTMENT \n inflationRate("+h.inflationRate+"), Return Rate ("+h.returnRate+")";n.details=c+l+a+v+y+p;this.account.interest=this.account.interests;console.log(n);this.mailChimp.CreateMember(this.account,this.mailChimp.lists.WebSubscription).then(function(n){console.log(n)},function(n){console.log(n)});this.salesForce.CreateContact(n).then(function(n){console.log(n);t.sending=!1;t.success=!0;n.statusText=="OK"?(t.sending=!1,t.success=!0):(t.sending=!1,t.fail=!0)})},n}();n.needs=t;app.component("needs",{templateUrl:function(n){return n.needs},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.$location=n;this.$http=t;this.md5=i;this.mydocs=[];this.api={};this.$insert=["$location","$http","md5"];var r=this.api;r.key="ekfw28zof0lmwl604rnkzxwvw26ig719";r.secret="82o9x124emjlf9q6efl4yh4cph75ydii";r.action="issuu.documents.list";r.access="public";r.responseParams="title,description";r.format="json";r.hash="";this.getDocsByQuery("newsletter")}return n.prototype.makeLinks=function(){var n=this.api,r=n.secret+"access"+n.access+"action"+n.action+"apiKey"+n.key+"format"+n.format+"responseParams"+n.responseParams,t,i;n.hash=this.md5.createHash(r||"");t="http://api.issuu.com/1_0?";t+="action="+n.action;t+="&apiKey="+n.key;t+="&access="+n.access;t+="&responseParams="+n.responseParams;t+="&format="+n.format;t+="&signature="+n.hash;n.url=t;i="160923224546-030b2b7d93ec2043997b0dfe913a1ae8";this.addDocById(i)},n.prototype.getDocList=function(){var r=this,i=this.api,t=i.secret,n;t+="actionissuu.document_embeds.list";t+="apiKey"+i.key;t+="formatjson";t+="pageSize10";t+="responseParamsdataConfigId,width,height,documentId,created";t+="startIndex0";n="http://api.issuu.com/1_0";n+="?action=issuu.document_embeds.list";n+="&apiKey="+i.key;n+="&pageSize=10";n+="&startIndex=0";n+="&responseParams=dataConfigId,width,height,documentId,created";n+="&format="+i.format;n+="&signature="+this.md5.createHash(t||"");this.$http.get(n).then(function(n){var t=n.data,i=t.rsp._content.result._content;angular.forEach(i,function(n){var t=n.documentEmbed;r.getDocById(t);r.mydocs.push(t)});console.log(r.mydocs)})},n.prototype.addDocById=function(n){var r=this.api,i=r.secret,t;i+="actionissuu.document_embeds.list";i+="apiKey"+r.key;i+="documentId"+n.documentId;i+="formatjson";i+="responseParamsdataConfigId,width,height,documentId,created";t="http://api.issuu.com/1_0";t+="?action=issuu.document_embeds.list";t+="&apiKey="+r.key;t+="&documentId="+n.documentId;t+="&responseParams=dataConfigId,width,height,documentId,created";t+="&format="+r.format;t+="&signature="+this.md5.createHash(i||"");this.$http.get(t).then(function(t){var u=t.data,r=u.rsp._content.result._content,i;r.length>0?(i=r[0].documentEmbed,console.log(i),n.dataConfigId=i.dataConfigId,n.width=i.width,n.height=i.height,n.created=i.created,n.display=!0):n.display=!1})},n.prototype.getDocsByQuery=function(n){var i=this,t="http://search.issuu.com/api/2_0/document";t+="?q=pfsa+"+n;t+="&username=pfsa";t+="&pageSize=12";t+="&sortBy=epoch";t+="&responseParams=*";t+="&jsonCallback=JSON_CALLBACK";this.$http.jsonp(t).then(function(n){var t=n.data.response.docs;console.log(t);angular.forEach(t,function(n){var t={};t.docname=n.docname;t.documentId=n.documentId;t.description=n.description;t.title=n.title;t.pagecount=n.pagecount;t.epoch=n.epoch;t.url="https://issuu.com/pfsa/docs/"+n.docname;i.addDocById(t);i.mydocs.push(t)})})},n.prototype.getDocById=function(n){var t="http://search.issuu.com/api/2_0/document";t+="?documentId="+n.documentId;t+="&pageSize=1";t+="&jsonCallback=JSON_CALLBACK";this.$http.jsonp(t).then(function(t){var i=t.data.response.docs[0];n.docname=t.data.response.docs[0].docname;console.log(i)})},n}();n.newsletters=t;app.component("newsletters",{templateUrl:"/tools/app/components/newsletters/newsletters.html",controller:t,controllerAs:"vm"})})(t=n.Controllers||(n.Controllers={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="objectives";this.$insert=["plannerPortal"];this.formData||(this.formData={})}return n.prototype.$onInit=function(){console.log("getting "+this.formName+" cookie");this.formData=this.plannerPortal.getCookie(this.formName)},n.prototype.update=function(){console.log("setting "+this.formName+" cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.objectives=t;app.component("objectives",{templateUrl:function(n){return n.objectives},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u,f,e){this.$scope=n;this.$location=t;this.plannerPortal=i;this.$sce=r;this.$filter=u;this.$routeParams=f;this.$cookies=e;this.formName="pension";this.$insert=["$scope","$location","plannerPortal","$sce","$filterProvider","$routeParams","$cookies"]}return n.prototype.$onInit=function(){this.formData={};this.formData.cpensionInRetirement=0;this.formData.spensionInRetirement=0;this.formData.cpensionInRetirementLS=0;this.formData.spensionInRetirementLS=0;this.formData.cpensionIfDeath=0;this.formData.spensionIfDeath=0;this.formData.cpensionIndexInflation="Y";this.formData.spensionIndexInflation="Y";this.formData.cpensionAge=0;this.formData.spensionAge=0;this.formData=this.plannerPortal.getCookie(this.formName);this.clean()},n.prototype.clean=function(){var n=this.formData;n.cpensionIndexInflation||(n.cpensionIndexInflation="Y");n.spensionIndexInflation||(n.spensionIndexInflation="Y")},n.prototype.update=function(){this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.pension=t;app.component("pension",{templateUrl:function(n){return n.pension},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="primaryContact";this.formData={};this.assetList=[];this.$insert=["plannerPortal"];this.formData||(this.formData={})}return n.prototype.$onInit=function(){console.log("Getting "+this.formName+" Cookie");this.formData=this.plannerPortal.getCookie(this.formName)},n.prototype.update=function(){console.log("setting primary contact cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.primaryContact=t;app.component("primaryContact",{templateUrl:function(n){return n.primaryContact},bindings:{formData:"="},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="rateAssumptions";this.assetList=[];this.$insert=["plannerPortal"]}return n.prototype.$onInit=function(){console.log("Getting "+this.formName+" Cookie");this.formData=this.plannerPortal.getCookie(this.formName);this.setup()},n.prototype.setup=function(){this.formData||(this.formData={});this.formData.savingIncInflation||(this.formData.savingIncInflation="N");this.formData.beforeTaxReturn||(this.formData.beforeTaxReturn=0);this.formData.beforeTaxReturnRetire||(this.formData.beforeTaxReturnRetire=0);this.formData.avgTaxRate||(this.formData.avgTaxRate=0);this.formData.avgTaxRateRetire||(this.formData.avgTaxRateRetire=0);this.formData.inflationRate||(this.formData.inflationRate=0)},n.prototype.update=function(){console.log("setting "+this.formName+" cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.rateAssumptions=t;app.component("rateAssumptions",{templateUrl:function(n){return n.rateAssumptions},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="receipts";this.assetList=[];this.$insert=["plannerPortal"];this.formData||(this.formData={})}return n.prototype.$onInit=function(){console.log("getting "+this.formName+" cookie");this.formData=this.plannerPortal.getCookie(this.formName);this.setup()},n.prototype.update=function(){console.log("setting "+this.formName+" cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n.prototype.setup=function(){var n,t;for(this.formData.assets||(this.formData.assets=[]),n=this.formData.assets,angular.forEach(n,function(){}),t=n.length;t<4;t++)n.push({amount:0,receiptType:"0"})},n}();n.receipts=t;app.component("receipts",{templateUrl:function(n){return n.receipts},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(t){var i=function(){function t(n,t,i,r,u){this.$scope=n;this.$location=t;this.salesForce=i;this.mailChimp=r;this.mailService=u;this.page={};this.mailingLists={};this.showForm=!0;this.success=!1;this.sending=!1;this.fail=!1;this.interest={};this.interests="";this.account={};this.$insert=["$scope","$location","salesForce","mailChimp","mailService"];this.page.friend=!0}return t.prototype.mailingList=function(){},t.prototype.$onInit=function(){this.account.phone="";this.account.lastName="";this.account.firstName="";this.message="";this.ResetForm();this.emailTo||(this.emailTo="it@morrisdev.com")},t.prototype.ResetForm=function(){this.showForm=!0;this.sending=!1;this.success=!1;this.fail=!1},t.prototype.IsValid=function(){var n=this.$scope.myForm;return n.$valid},t.prototype.listAttributes=function(){var i=this.interest,n,t;this.account.interests="";for(n in i)i.hasOwnProperty(n)&&i[n]&&(t=this.CamelcaseToWord(n),t=t.toUpperCase(),this.account.interests+=t+",")},t.prototype.CamelcaseToWord=function(n){return n.replace(/([A-Z]+)/g," $1").replace(/([A-Z][a-z])/g," $1")},t.prototype.Invalid=function(){alert("Sorry, you need to make sure have added your last name and a valid email")},t.prototype.SendToMailChimp=function(){var i=this,n="",t=this.mailingLists;t.newsletter&&(n+="newsletters,");t.festas&&(n+="festas,");t.cultural&&(n+="cultural,");t.youth&&(n+="youth,");t.community&&(n+="community,");t.social&&(n+="social,");this.account.interest=n;this.showForm=!1;this.sending=!0;this.success=!1;this.fail=!1;this.mailChimp.CreateMember(this.account).then(function(n){console.log(n);i.showForm=!1;i.sending=!1;i.success=!0;i.fail=!1},function(n){console.log(n);this.showForm=!1;this.sending=!1;this.success=!1;this.fail=!0})},t.prototype.Contact=function(){var r=this,t,i,f,u;this.showForm=!1;this.sending=!0;this.listAttributes();t=this.account;i={};i.first_name=t.friendFirst;i.last_name=t.friendLast;i.email=t.friendEmail;i.age=t.friendAge;i.phone=t.friendPhone;i.details="Referral from Website:"+this.$location.absUrl();i.details=+"Interests:"+t.interests;i.interest=t.interests;this.salesForce.CreateContact(i).then(function(n){var t=r;r.sending=!1;n.status==200?r.success=!0:r.fail=!0;setTimeout(function(){t.ResetForm()},5e3)});f=new n.Config.version;u={};u.to=this.emailTo;u.from="donotreply@mypfsa.org";u.subject="New Friend Referral from MyPFSA.org";u.message=this.message+"<hr>\n<p>\n<b>From<\/b><br>\nName: "+t.firstName+" "+t.lastName+"<br>\nPhone: "+t.phone+" <br>\nEmail: "+t.email+" <br>\n<hr>\n<b>Referral<b><br>\nName: "+t.friendFirst+" "+t.friendLast+"<br>\nPhone: "+t.friendPhone+" <br>\nEmail: "+t.friendEmail+' <br>\n Age:"'+t.friendAge+'<br>\nGender:"'+t.friendGender+"<br>\n <b>Interests:<\/b>"+t.interests+" ";u.key=f.apiKey;this.mailService.SendMail(u).then(function(n){console.log(n);r.showForm=!1;r.sending=!1;r.success=!0;r.fail=!1},function(n){console.log(n);this.showForm=!1;this.sending=!1;this.success=!1;this.fail=!0})},t.prototype.GetLi=function(n,t){return t?"<li>"+n+"<\/li>":""},t}();t.Refer=i;app.component("refer",{controller:i,controllerAs:"vm",bindings:{emailTo:"@"},templateUrl:function(n){return n.GetUrl("refer")}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(t){var i=function(){function t(n,t,i,r,u){this.$scope=n;this.$location=t;this.salesForce=i;this.mailChimp=r;this.mailService=u;this.mailingLists={};this.showForm=!0;this.success=!1;this.sending=!1;this.fail=!1;this.interest={};this.interests="";this.account={};this.$insert=["$scope","$location","salesForce","mailChimp","mailService"]}return t.prototype.mailingList=function(){},t.prototype.$onInit=function(){this.account.phone="";this.account.lastName="";this.account.firstName="";this.message="";this.ResetForm();this.emailTo||(this.emailTo="it@morrisdev.com")},t.prototype.ResetForm=function(){this.showForm=!0;this.sending=!1;this.success=!1;this.fail=!1},t.prototype.IsValid=function(){var n=this.$scope.myForm;return n.$valid},t.prototype.listAttributes=function(){var i=this.interest,n,t;this.account.interests="";for(n in i)i.hasOwnProperty(n)&&i[n]&&(t=this.CamelcaseToWord(n),t=t.toUpperCase(),this.account.interests+=t+",")},t.prototype.CamelcaseToWord=function(n){return n.replace(/([A-Z]+)/g," $1").replace(/([A-Z][a-z])/g," $1")},t.prototype.Invalid=function(){alert("Sorry, you need to make sure have added your last name and a valid email")},t.prototype.SendToMailChimp=function(){var i=this,n="",t=this.mailingLists;t.newsletter&&(n+="newsletters,");t.festas&&(n+="festas,");t.cultural&&(n+="cultural,");t.youth&&(n+="youth,");t.community&&(n+="community,");t.social&&(n+="social,");this.account.interest=n;this.showForm=!1;this.sending=!0;this.success=!1;this.fail=!1;this.mailChimp.CreateMember(this.account,this.mailChimp.lists.WebSubscription).then(function(n){console.log(n);i.showForm=!1;i.sending=!1;i.success=!0;i.fail=!1},function(n){console.log(n);this.showForm=!1;this.sending=!1;this.success=!1;this.fail=!0})},t.prototype.Contact=function(){var u=this,t,i,f,r;this.showForm=!1;this.sending=!0;this.listAttributes();t=this.account;i={};i.first_name=t.firstName;i.last_name=t.lastName;i.email=t.email;i.age=t.age;i.phone=t.phone;i.details="Contact Widget from Website:"+this.$location.absUrl();i.details=+"Interests:"+this.interests;i.interest=t.interest;this.SendToMailChimp();f=new n.Config.version;r={};r.to=this.emailTo;r.from="donotreply@mypfsa.org";r.subject="New Quote Request from MyPFSA.org";r.message=this.message+"<hr>\n<p>\nFrom: "+t.firstName+" "+t.lastName+"<br>\nPhone: "+t.phone+" <br>\nEmail: "+t.email+' <br>\nAge:"'+t.age+'<br>\nGender:"'+t.gender+'<br>\nInsurance Amount:"'+t.amount+'<br>\nAge:"'+t.age+"<br>\nSource: "+t.discovery+"<br>\nReferred By: "+t.referredBy+"<br>\n<b>Interests:<\/b>"+t.interests+" ";r.key=f.apiKey;this.mailService.SendMail(r).then(function(n){console.log(n);u.showForm=!1;u.sending=!1;u.success=!0;u.fail=!1},function(n){console.log(n);this.showForm=!1;this.sending=!1;this.success=!1;this.fail=!0})},t.prototype.GetLi=function(n,t){return t?"<li>"+n+"<\/li>":""},t}();t.RequestQuote=i;app.component("requestQuote",{controller:i,controllerAs:"vm",bindings:{emailTo:"@"},templateUrl:function(n){return n.GetUrl("requestQuote")}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="savings";this.$insert=["plannerPortal"]}return n.prototype.$onInit=function(){console.log("getting "+this.formName+" cookie");this.formData=this.plannerPortal.getCookie(this.formName)},n.prototype.update=function(){console.log("setting "+this.formName+" cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.savings=t;app.component("savings",{templateUrl:function(n){return n.savings},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="socialSecurityOverride";this.$insert=["plannerPortal"];this.formData||(this.formData={})}return n.prototype.$onInit=function(){console.log("getting "+this.formName+" cookie");this.formData=this.plannerPortal.getCookie(this.formName);this.setup()},n.prototype.update=function(){console.log("setting "+this.formName+" cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n.prototype.setup=function(){var n=this.formData;n||(n={});n.coverrideSsAge||(n.coverrideSsAge=0);n.soverrideSsAge||(n.soverrideSsAge=0);n.coverrideSsAmount||(n.coverrideSsAmount=0);n.soverrideSsAmount||(n.soverrideSsAmount=0);n.sdasdd||(n.sdasdd=0)},n}();n.socialSecurityOverride=t;app.component("socialSecurityOverride",{templateUrl:function(n){return n.socialSecurityOverride},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u,f,e){this.$scope=n;this.$location=t;this.plannerPortal=i;this.$sce=r;this.$filter=u;this.$routeParams=f;this.$cookies=e;this.formName="spouse";this.$insert=["$scope","$location","plannerPortal","$sce","$filterProvider","$routeParams","$cookies"]}return n.prototype.$onInit=function(){this.formData=this.plannerPortal.getCookie(this.formName)},n.prototype.update=function(){console.log("setting spouse cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.spousalContact=t;app.component("spousalContact",{templateUrl:function(n){return n.spousalContact},bindings:{formData:"="},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.plannerPortal=n;this.formName="survivorNeeds";this.$insert=["plannerPortal"]}return n.prototype.$onInit=function(){console.log("Getting "+this.formName+" Cookie");this.formData=this.plannerPortal.getCookie(this.formName);this.setup()},n.prototype.setup=function(){this.formData||(this.formData={});this.formData.socInitialSpending||(this.formData.socInitialSpending=0);this.formData.socInitialYears||(this.formData.socInitialYears=0);this.formData.socSubseqSpending||(this.formData.socSubseqSpending=0);this.formData.socSubseqYears||(this.formData.socSubseqYears=0);this.formData.sosInitialSpending||(this.formData.sosInitialSpending=0);this.formData.sosInitialYears||(this.formData.sosInitialYears=0);this.formData.sosSubseqSpending||(this.formData.sosSubseqSpending=0);this.formData.sosSubseqYears||(this.formData.sosSubseqYears=0)},n.prototype.update=function(){console.log("setting "+this.formName+" cookie");this.plannerPortal.setCookie(this.formName,this.formData)},n}();n.survivorNeeds=t;app.component("survivorNeeds",{templateUrl:function(n){return n.survivorNeeds},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={}));elementOnloadDirective=function(){return{restrict:"A",scope:{callback:"&ngOnload"},link:function(n,t){t.on("load",function(){var i=t.length>0&&t[0].contentWindow?t[0].contentWindow.location:undefined;n.callback({contentLocation:i})})}}};elementOnloadDirective.$inject=[];elementOnloadDirective.directiveName="ngOnload";angular.module("ngOnload",[]).directive(elementOnloadDirective.directiveName,elementOnloadDirective),function(n){n[n.primary=0]="primary";n[n.spouse=1]="spouse";n[n.address=2]="address";n[n.dependants=3]="dependants";n[n.assumptions=4]="assumptions";n[n.complete=5]="complete"}(modes||(modes={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u,f,e,o){this.$scope=n;this.$location=t;this.plannerPortal=i;this.$sce=r;this.$filter=u;this.$routeParams=f;this.$cookies=e;this.salesForce=o;this.formData={};this.error="<span style='color:green'>error goes here<\/span>";this.showForm=!0;this.success=!1;this.sending=!1;this.fail=!1;this.account={};this.showClient=!0;this.mode={};this.showDependants=!1;this.showAssumptions=!1;this.$insert=["$scope","$location","plannerPortal","$sce","$filterProvider","$routeParams","$cookies","salesForce"];var s=this.mode;s.assumptions=!0;s.dependants=!0;s.primary=!0;s.spouse=!0;s.address=!0;s.complete=!0;this.setMode("primary")}return n.prototype.setPrimary=function(){var n=this.$cookies.getObject("primary"),t=this.formData;angular.copy(n,t)},n.prototype.savePrimary=function(){var t=this.formData,n=new Date;n.setDate(n.getDate()+100);this.$cookies.putObject("primary",t,{expires:n})},n.prototype.go=function(n){this.savePrimary();this.$location.url("/cp/"+n)},n.prototype.setMode=function(n){var t=this;n||n=="primary";n=="primary"&&t.setModeByNumber(modes.primary);n=="spouse"&&t.setModeByNumber(modes.spouse);n=="address"&&t.setModeByNumber(modes.address);n=="dependants"&&t.setModeByNumber(modes.dependants);n=="assumptions"&&t.setModeByNumber(modes.assumptions);n=="complete"&&t.setModeByNumber(modes.complete)},n.prototype.setModeByNumber=function(n){var t=this.mode;t.assumptions=!0;t.dependants=!0;t.primary=!0;t.spouse=!0;t.address=!0;t.complete=!0;t.assumptions=!1;t.dependants=!1;t.primary=!1;t.spouse=!1;t.address=!1;t.complete=!1;switch(!0){case n==modes.primary:t.primary=!0;break;case n==modes.address:t.address=!0;break;case n==modes.dependants:t.dependants=!0;break;case n==modes.assumptions:t.assumptions=!0;break;case n==modes.spouse:t.spouse=!0;break;case n==modes.complete:t.complete=!0;break;default:t.primary=!0;alert("error")}console.log(n);console.log("123")},n.prototype.hello=function(){console.log("SUCCESSFULLY SENT TO CALCULATOR");this.setMode("complete")},n.prototype.testData=function(){var n=this.formData;n.ssalutation="Mrs.";n.csalutation="Mr.";n.cfirstname="Daniel";n.clastname="Morris";n.cbirthdate=this.convertDate("3/25/1970");n.cage="46";n.coccupation="Database Developer";n.cemployer="Morris Development";n.sfirstname="Gina";n.slastname="Morris";n.sbirthdate=this.convertDate("3/17/68");n.sage="45";n.soccupation="CFO";n.semployer="Morris Development";n.address1="843 Vallejo Street";n.address2="";n.city="San Francisco";n.state="CA";n.postalCode="94133";n.updateRetirement_phone="(415) 986-7600";n.updateRetirement_email="it@morrisdev.com";n.maritalStatus="M";n.updateCollege_dependents_0__name="Marguerite Morris";n.updateCollege_dependents_0__birthdate=this.convertDate("3/17/2006");n.updateCollege_dependents_0__goalDescription="State College";n.updateCollege_dependents_0__annualCost="$15000";n.updateCollege_dependents_0__amountSaved="$0";n.updateCollege_dependents_0__amountSaved529="$0";n.updateCollege_dependents_0__percentYouPay="100%";n.updateCollege_dependents_0__startingAge="18";n.updateCollege_dependents_0__yearsNeeded="4";n.beforeTaxReturn="0%";n.avgTaxRate="0%";n.collegeInflation="0%";n.collegeSavingsIncrease="0%";n.submit="Request a Report";n.userId="R3Y5P2YDS70=";n.targetFactFinder="College"},n.prototype.$onInit=function(){var n,t;this.error=this.$sce.trustAsHtml("<b><\/b>");n=this.formData;n.submit="Request a Report";n.userId="R3Y5P2YDS70=";n.targetFactFinder="College";t=this.$routeParams.view},n.prototype.submitForm=function(){var i=this,r=document.getElementById("addClient"),u;this.formData.cbirthdate=this.convertDate(this.formData.cbirthdate);this.formData.sbirthdate=this.convertDate(this.formData.sbirthdate);this.concatenate();var f=this.salesForce,t=this.formData,n={};n.first_name=t.cfirstname;n.last_name=t.clastname;n.interest="College Planner";n.email=t.updateRetirement_email;n.age=t.cage;n.phone=t.updateRetirement_phone;n.details="";f.CreateContact(n).then(function(n){console.log(n)});u=document.getElementById("myTarget");r.onload||(u.onload=function(){return i.hello(i)});r.submit()},n.prototype.cleanForm=function(){this.concatenate()},n.prototype.Submit=function(n){return console.log("TEST"),n.preventDefault(),!1},n.prototype.convertDate=function(n){var i=new Date(n),r,t;return angular.isDate(i)?(r=this.$filter("date"),t=r(i,"MM-dd-yyyy"),t=="Invalid Date"?"":t):""},n.prototype.concatenate=function(){for(var t="",l=this.formData,n=0;n<5;n++){var h=document.getElementById("updateCollege_dependents_"+n+"__name"),i=document.getElementById("updateCollege_dependents_"+n+"__birthdate"),c=document.getElementById("updateCollege_dependents_"+n+"__goalDescription"),r=document.getElementById("updateCollege_dependents_"+n+"__annualCost"),u=document.getElementById("updateCollege_dependents_"+n+"__amountSaved"),f=document.getElementById("updateCollege_dependents_"+n+"__amountSaved529"),e=document.getElementById("updateCollege_dependents_"+n+"__percentYouPay"),o=document.getElementById("updateCollege_dependents_"+n+"__startingAge"),s=document.getElementById("updateCollege_dependents_"+n+"__yearsNeeded");angular.isNumber(r.value)||(r.value="0");angular.isNumber(u.value)||(u.value="0");angular.isNumber(f.value)||(f.value="0");angular.isNumber(e.value)||(e.value="0");angular.isNumber(o.value)||(o.value="0");angular.isNumber(s.value)||(s.value="0");i.value=this.convertDate(i.value);t+=h.value+"|";t+=i.value+"|";t+=c.value+"|";t+=r.value+"|";t+=u.value+"|";t+=f.value+"|";t+=e.value+"|";t+=o.value+"|";t+=s.value+"|"}return this.formData.dependentsString=t,this.formData.liabilitiesString="",!0},n}();n.collegePlanner=t;app.component("collegePlanner",{controller:t,controllerAs:"vm",templateUrl:function(n){return n.collegePlanner}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(){this.primaryContact={};this.address={};this.dependants={}}return n}();n.index=t;app.component("index",{controller:t,controllerAs:"vm",templateUrl:function(n){return n.index}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(t){var r=function(){function n(){this._tempThumbNail="http://pfsa.morrisdev.com/tools/app/pages/library/book/placeholder.jpg";this._thumbUrl=this._tempThumbNail}return Object.defineProperty(n.prototype,"thumbUrl",{get:function(){var n=this._thumbUrl,t=this.getExt(n);return t!=""?this._thumbUrl:this._tempThumbNail},set:function(n){this._thumbUrl=n},enumerable:!0,configurable:!0}),n.prototype.getExt=function(n){var t=n.split(".").pop();return t==n?"":t},n}(),i=function(){function t(t,i,r,u,f){this.$location=t;this.$http=i;this.libraryService=r;this.$cookies=u;this.mydocs=[];this.api={};this.searchResults=!1;this.callnumber="";this.$insert=["$location","$http","$cookies","$sessionStorage"];this.sessionStorage=f;this.version=new n.Config.version;this.SubjectList()}return t.prototype.OpenByCallNumberKey=function(n){n.which===13&&this.OpenByCallNumber()},t.prototype.OpenByCallNumber=function(){var n=this.callnumber,t=n.replace(/\D/g,""),i=n.replace(/[0-9]/g,""),r="/library/edit/"+i+"/"+t;this.go(r)},t.prototype.SubjectList=function(){var n=this.version.apiServer},t.prototype.SearchKey=function(n){n.which===13&&this.Search()},t.prototype.Search=function(){this.webSearch(this.searchText);this.setCookie("titleSearch",this.searchText)},t.prototype.ClearSearch=function(){this.searchText=""},t.prototype.NewBook=function(){this.$location.url("library/add")},t.prototype.webSearch=function(n){var t=this;n!="recent additions"?(this.sessionStorage.searchText=n,this.libraryService.Search("","",n).then(function(n){t.books=n.data;t.sessionStorage.searchResults=t.books;t.searchResults=!0})):this.libraryService.Recent().then(function(n){t.books=n.data;t.sessionStorage.searchResults=t.books;t.searchResults=!0})},t.prototype.getBook=function(n){var t="/library/catalog/view/"+n.Prefix+"/"+n.BookNumber;this.go(t)},t.prototype.go=function(n){this.$location.url(n)},t.prototype.$onInit=function(){var n;this.searchText=this.sessionStorage.searchText;this.sessionStorage&&(n=this.sessionStorage.searchResults);n?(this.books=n,this.searchResults=!0):this.webSearch("recent additions")},t.prototype.submitForm=function(){},t.prototype.cleanForm=function(){this.searchText=""},t.prototype.setCookie=function(n,t){var i=new Date;i.setDate(i.getDate()+100);this.$cookies.putObject(n,t,{expires:i})},t.prototype.getCookie=function(n){var t=this.$cookies.getObject(n);return t||(t={}),t},t}();t.library=i;app.component("library",{controller:i,controllerAs:"vm",templateUrl:function(n){return n.library}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u){this.$location=n;this.libraryService=t;this.$routeParams=i;this.$mdDialog=r;this.$mdToast=u;this.mode="empty";this.setPassword=!1;this.$insert=["$location","libraryService","$routeParams","$mdDialog","$mdToast"]}return n.prototype.$onInit=function(){var t=this,i=this.libraryService,n=this.$routeParams.accountid;this.$location.url()=="/library/accounts/add"?(this.mode="edit",n=0,this.account={},this.account.Status="Active",this.account.AccountType="Member",this.setPassword=!0):n?(this.mode="edit",n>0&&i.getAccount(n).then(function(n){t.account=n.data})):(this.mode="list",i.getAccounts().then(function(n){t.accounts=n}))},n.prototype.editAccount=function(n){this.go("/library/accounts/"+n.AccountId)},n.prototype.ChangePassword=function(n){this.$mdDialog.show({contentElement:"#myDialog",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0})},n.prototype.CancelPassword=function(){this.$mdDialog.hide()},n.prototype.UpdatePassword=function(n){this.account.Password=n;this.SaveUser(3)},n.prototype.Toast=function(n,t){t=t*1e3;this.$mdToast.show(this.$mdToast.simple().capsule(!0).textContent(n).position("top right").hideDelay(t))},n.prototype.Delete=function(){var n=this.account,t="Are you sure you want to delete "+n.FirstName+" "+n.LastName+"'s account?";confirm(t)&&(this.account.Status="Deleted",this.Toast("Deleting Account...",2),this.SaveUser(1))},n.prototype.SaveUser=function(n){var t=this,i=this.libraryService;this.Toast("Saving...",2);i.SaveAccount(this.account).then(function(i){if(n===0){t.Toast("Saved",2);t.account=i.data;return}n===1&&t.go("/library/accounts/");n===2&&t.go("/library/accounts/add");n===3&&t.$mdDialog.hide()})},n.prototype.go=function(n){this.$location.url(n)},n}();n.Account=t;app.component("account",{controller:t,bindings:{accountId:"<"},controllerAs:"vm",templateUrl:function(n){return n.account}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.$location=n;this.$sessionStorage=t;this.libraryService=i;this.$insert=["$location","$sessionStorage","libraryService"]}return n.prototype.$onInit=function(){console.log("Blank Startup")},n.prototype.go=function(n){this.$location.url(n)},n}();n.BlankTemplate=t;app.component("blankTemplate",{controller:t,bindings:{someVariable:"<"},controllerAs:"vm",template:'\n        <div style="width:500px;margin-left:100px;margin-right:auto;margin-top:40px;" > <h2>New Feature<\/h2 > <\/div>\n        <div style="width:500px;margin-left:100px;margin-right:auto;margin-top:40px;" ><hr>\n        <i>This is an advanced feature that may be included if PFSA finds it worth while.<\/i>\n\n<\/div>\n        \n        '})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(t){var i;(function(t){var i=function(){function t(n,t,i){this.$location=n;this.$sessionStorage=t;this.libraryService=i;this.$insert=["$location","$sessionStorage","libraryService"]}return t.prototype.$onInit=function(){console.log("Book View Startup");console.log(this.book)},t.prototype.Edit=function(){var n=this.book;console.log(n);this.go("/library/catalog/edit/"+n.Prefix+"/"+n.BookNumber)},t.prototype.BookImage=function(){var t=n.Config.LibraryConfig.imageServer,i;return this.book.Url?t+"/"+this.book.Url:(i=n.Config.LibraryConfig.defaultBookImage,t+"/"+i)},t.prototype.go=function(n){this.$location.url(n)},t}();t.BookView=i;app.component("bookView",{controller:i,bindings:{book:"<",history:"<"},controllerAs:"vm",template:'\n       <div class="row bookRow">\n            <div class="col-sm-3">\n                <div class="bookBox">\n                    <div class="bookBoxCenter">\n                        <img ng-src="{{vm.BookImage(vm.book)}}" width="200" /><br />\n                    <\/div>\n                <\/div>\n            <\/div>\n\n            <div class="col-sm-9">\n                <div>\n                    <h3> <span class="bookTitle" ng-bind="vm.book.Title"><\/span><\/h3>\n                <\/div>\n                <div style="padding:10px;">\n                    <span class="bookDescription" ng-bind="vm.book.Notes"><\/span>\n                <\/div>\n                <ul>\n                    <li>By <span class="author" ng-bind="vm.book.Author"> Álamo de Oliveira<\/span><\/li>\n                    <li>Subject: <span class="bookSubject" ng-bind="vm.book.Subject"> Literature<\/span><\/li>\n                    <li>Call Number: <span class="bookBarcode" ng-bind="vm.book.CallNumber"><\/span><\/li>\n                    <li>Availability: {{vm.book.Status}} <\/li>\n                <\/ul>\n                <div class="form-group row">\n                    <div class="col-sm-8" style="padding-left:30px">\n                        <button ng-click="vm.go(\'library/catalog\')" class="btn btn-default" type="button">Close<\/button>\n                        <button ng-click="vm.Edit(vm.book)" class="btn btn-primary" type="button">Edit<\/button>\n                        <button ng-click="vm.Request(vm.book)" class="btn btn-primary" type="button">Request<\/button>\n                    <\/div>\n                <\/div>\n                <div class="form-group row">\n                    <div class="col-sm-8" style="padding-left:30px">\n                      \n                        <h4>History<\/h4>\n                        <table class="table table-striped">\n                            <tr>\n                                <td>Date<\/td>\n                                <td>User<\/td>\n                                <td>Status<\/td>\n                               \n                            <\/tr>\n                            <tr ng-repeat="h in vm.history track by $index">\n                                <td>{{h.CreateDate | date: \'medium\'}}<\/td>\n                                <td>{{h.CreateBy}}<\/td>\n                                <td>{{h.Status}}<\/td>\n                                \n                            <\/tr>\n                             \n                        <\/table>\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n        \n        '})})(i=t.Components||(t.Components={}))})(t=n.Library||(n.Library={}))}(Application||(Application={}));app.directive("fileModel",["$parse",function(n){return{restrict:"A",link:function(t,i,r){var u=n(r.fileModel),f=u.assign;i.bind("change",function(){t.$apply(function(){var n=i[0].files[0];f(t,n)})})}}}]),function(n){var t;(function(t){var i;(function(t){var i=function(){function t(t,i,r,u,f,e){this.$location=t;this.$http=i;this.$routeParams=r;this.$httpParamSerializerJQLike=u;this.libraryService=f;this.$sessionStorage=e;this.mode="insert";this.subjects=[];this.loading=!1;this.callnumber="";this.image={};this.editing=!0;this.bookImage="";this.book={};this.$insert=["$location","$http","$routeParams","$httpParamSerializerJQLike","libraryService","$sessionStorage","libraryConfig"];this.image.uploading=!1;this.book.Url="";this.imageServer=n.Config.LibraryConfig.imageServer}return t.prototype.uploadImage=function(){var i=this;this.image.uploading=!0;var t=new FormData,r=this.file.name,u=this.book.CallNumber,f=u+"/"+r;this.bookImage=n.Config.LibraryConfig.imageServer+"/assets/wait.gif";t.append("file",this.file);t.append("callnumber",this.book.CallNumber);this.libraryService.uploadImage(t).then(function(t){console.log(t);i.bookImage=n.Config.LibraryConfig.imageServer+"/"+t.data;i.image.uploading=!1})},t.prototype.LoadSubjects=function(){var n=this;this.libraryService.getSubjects().then(function(t){n.subjects=t;n.updateSubject()})},t.prototype.updateSubject=function(){var n=this;angular.forEach(this.subjects,function(t){t.SubjectId==n.book.SubjectId&&(n.SelectedSubject=t,console.log(n.SelectedSubject),n.book.Subject=t.Name,console.log(t.Name),console.log(n.book.Subject))})},t.prototype.ApplySubject=function(){var n=this;angular.forEach(this.subjects,function(t){t.Name==n.book.Subject&&(n.book.Prefix=t.Prefix,n.book.BookNumber=t.LastId+1,n.book.CallNumber=n.book.Prefix+n.book.BookNumber,n.book.SubjectId=t.sub)})},t.prototype.getBook=function(t,i){var r=this;this.loading=!0;this.libraryService.getBook(t,i).then(function(u){if(r.book=u.data,r.book.Url)r.bookImage=r.imageServer+"/"+r.book.Url;else{var f=n.Config.LibraryConfig.defaultBookImage;r.bookImage=r.imageServer+"/"+f}r.updateSubject();r.libraryService.getBookHistory(t,i).then(function(n){r.history=n.data});r.loading=!1})},t.prototype.UpdateStatus=function(){},t.prototype.saveBook=function(n){var t=this,i;this.loading=!0;this.book.SubjectId=this.SelectedSubject.SubjectId;this.book.Subject=this.SelectedSubject.Subject;this.book.BookId&&this.$sessionStorage.searchResults&&(i=this.$sessionStorage.searchResults,this.$sessionStorage.searchResults={},angular.forEach(i,function(n){console.log(n.BookId);n.BookId.toString()==t.book.BookId.toString()&&angular.copy(t.book,n)}),this.$sessionStorage.searchResults=i);this.libraryService.saveBook(this.book).then(function(i){console.log(i.data);var r=t.book;n==1&&t.$location.url("/library/catalog");n==2&&t.$location.url("/library/catalog/add");t.loading=!1})},t.prototype.Request=function(){var n=this.book,t="requests/add/"+n.Prefix+"/"+n.BookNumber;this.go(t)},t.prototype.go=function(n){this.$location.url("/library/"+n)},t.prototype.$onInit=function(){this.LoadSubjects();var n=this.$routeParams.mode;this.prefix=this.$routeParams.prefix;this.booknumber=this.$routeParams.booknumber;this.callnumber=this.prefix+this.booknumber;console.log(this.mode+":"+this.callnumber);this.callnumber?(this.editing=!1,this.mode="update",this.getBook(this.prefix,this.booknumber)):(this.mode="insert",this.editing=!0,this.book.Subject="Azores",this.book.Status="Active");n=="edit"&&(this.editing=!0,this.mode="update")},t}();t.book=i;app.component("book",{controller:i,controllerAs:"vm",templateUrl:function(n){return n.book}})})(i=t.Components||(t.Components={}))})(t=n.Library||(n.Library={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.$onInit=function(){console.log(this.book)},n}();n.BookPage=t;app.component("bookPage",{controller:t,bindings:{book:"<"},controllerAs:"vm",template:"test<book><\/book><hr><book-tile><\/book-tile>"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.$onInit=function(){console.log(this.book)},n}();n.bookTile=t;app.component("bookTile",{controller:t,bindings:{book:"<"},controllerAs:"vm",templateUrl:function(n){return n.bookTile}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t){this.$location=n;this.$sessionStorage=t;this.$insert=["$location","$sessionStorage"]}return n.prototype.$onInit=function(){if(this.$sessionStorage.myaccount){var n=this.$sessionStorage.myaccount;this.username=n.FirstName+" "+n.LastName;this.AccountId=n.AccountId}else this.$location.url("/")},n.prototype.LogOut=function(){this.$sessionStorage.$reset();this.go("/")},n.prototype.OpenByCallNumberKey=function(n){n.which===13&&this.OpenByCallNumber()},n.prototype.OpenByCallNumber=function(){var n=this.callnumber,t=n.replace(/\D/g,""),i=n.replace(/[0-9]/g,""),r="/library/edit/"+i+"/"+t;this.go(r)},n.prototype.go=function(n){this.$location.url(n)},n}();n.Navbar=t;app.component("navbar",{controller:t,bindings:{book:"<"},controllerAs:"vm",templateUrl:function(n){return n.navbar+"?v="+new Date}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t){this.$location=n;this.$http=t;this.mydocs=[];this.api={};this.books=[];this.patient={};this.$insert=["$location","$http"]}return n.prototype.$onInit=function(){},n}();n.BookPreview=t;app.component("bookPreview",{controller:t,controllerAs:"vm",templateUrl:"app/pages/library/preview/preview.html?v="+new Date})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var i=function(){function n(){this._tempThumbNail="http://pfsa.morrisdev.com/tools/app/pages/library/book/placeholder.jpg";this._thumbUrl=this._tempThumbNail}return Object.defineProperty(n.prototype,"thumbUrl",{get:function(){var n=this._thumbUrl,t=this.getExt(n);return t!=""?this._thumbUrl:this._tempThumbNail},set:function(n){this._thumbUrl=n},enumerable:!0,configurable:!0}),n.prototype.getExt=function(n){var t=n.split(".").pop();return t==n?"":t},n}(),t=function(){function n(n,t,i){this.$location=n;this.$http=t;this.md5=i;this.mydocs=[];this.api={};this.$insert=["$location","$http","md5"]}return n.prototype.search=function(){this.searchText&&this.webSearch(this.searchText)},n.prototype.webSearch=function(n){var t=this,i="http://pfsa.morrisdev.com/api/books/?cmd=search&terms="+n;this.$http.get(i).then(function(n){t.books=n.data})},n.prototype.getRecent=function(n){var r=this,t,u;this.recent=[];t=this.recent;u="http://pfsa.morrisdev.com/api/books/?cmd=recent&count="+n;this.$http.get(u).then(function(n){r.books=n.data;var u=r.books;angular.forEach(u,function(n){console.log(n.thumburl);var r=new i;r.title=n.title;r.barcode=n.barcode;r.author=n.author;r.thumbUrl=n.thumburl;r.category=n.category;r.description=n.description;r.type=n.type;r.subject=n.subject;console.log(n);t.push(r)});console.log(t)})},n.prototype.getBook=function(n){var t="/library/edit/"+n.barcode;this.go(t)},n.prototype.go=function(n){this.$location.url(n)},n.prototype.$onInit=function(){this.getRecent(5)},n.prototype.submitForm=function(){},n.prototype.cleanForm=function(){this.searchText=""},n}();n.RecentAdditions=t;app.component("recentAdditions",{controller:t,controllerAs:"vm",templateUrl:function(n){return n.recentAdditions}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(t){var i=function(){function t(n,t,i,r){this.$location=n;this.$sessionStorage=t;this.$routeParams=i;this.libraryService=r;this.$insert=["$location","$sessionStorage","$routeParams","libraryService"];this.email="dmorris@morrisdev.com";this.ShipSelections=[];this.showAddress=!1;this.showConfirm=!1;this.showSearch=!1;this.showList=!1}return t.prototype.$onInit=function(){console.log(this.$routeParams);this.mode=this.$routeParams.mode;this.Prefix=this.$routeParams.prefix;this.BookNumber=this.$routeParams.booknumber;this.CallNumber=this.Prefix+this.BookNumber;this.mode&&(this.mode=this.mode.toLowerCase());this.mode=="edit"||this.mode=="add"?(this.getBook(this.Prefix,this.BookNumber),this.showSearch=!0):(this.GetRequests(),this.showList=!0);console.log(this.mode)},t.prototype.LookupAccount=function(n,t){var i=this;this.libraryService.LookupAccount(n,t).then(function(n){if(console.log(n),n.data!="No Accounts Found")i.Account=n.data[0],i.showAddress=!0,i.showSearch=!1,i.showConfirm=!1;else{var r=confirm("No account was found for "+t+".  Would you like to make a new account for them?");r&&(i.showAddress=!0,i.showSearch=!1,i.showConfirm=!1,i.Account={},i.Account.Email=t)}})},t.prototype.getBook=function(t,i){var r=this;this.libraryService.getBook(t,i).then(function(t){if(r.book=t.data,!r.book.Url)var i=n.Config.LibraryConfig.defaultBookImage})},t.prototype.AddRequest=function(n){var t=this;this.libraryService.AddRequest(n,this.email).then(function(n){n.data.BookId?t.GetRequests():alert(n.data)})},t.prototype.AddRequestByAccount=function(n){var t=this;this.libraryService.SaveAccount(n).then(function(){t.libraryService.AddRequest(t.CallNumber,t.Account.Email).then(function(n){n.data.BookId?(alert("DONE!"),t.showConfirm=!0,t.GetRequests()):alert(n.data)})})},t.prototype.UpdateRequest=function(n,t,i,r){var f=this,u={};u.ReservationSubId=t.ReservationSubId;u.ChangeType=n;u.OnOff=i;u.ChangeDate=r;this.libraryService.UpdateRequest(u).then(function(n){console.log(n.data);f.GetRequests()})},t.prototype.GetRequests=function(){var n=this;this.libraryService.getOpenRequests().then(function(t){n.requests=t.data})},t.prototype.ShipItem=function(n){var i=!1,t=[];angular.forEach(this.ShipSelections,function(r){r.ReservationSubId==n.ReservationSubId?i=!0:t.push(r)});i||t.push(n);this.ShipSelections=t},t.prototype.go=function(n){this.$location.url(n)},t}();t.Requests=i;app.component("requests",{controller:i,bindings:{someVariable:"<"},controllerAs:"vm",templateUrl:function(n){return n.requests}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.$location=n;this.$sessionStorage=t;this.libraryService=i;this.$insert=["$location","$sessionStorage","libraryService"];this.ShipSelections=[]}return n.prototype.$onInit=function(){console.log("Request Book");this.GetRequests()},n.prototype.AddRequest=function(n){var t=this;this.libraryService.AddRequest(n).then(function(n){n.data.BookId?t.GetRequests():alert(n.data)})},n.prototype.GetRequests=function(){var n=this;this.libraryService.getOpenRequests().then(function(t){n.requests=t.data})},n.prototype.ShipItem=function(n){var i=!1,t=[];angular.forEach(this.ShipSelections,function(r){r.ReservationSubId==n.ReservationSubId?i=!0:t.push(r)});i||t.push(n);this.ShipSelections=t},n.prototype.go=function(n){this.$location.url(n)},n}();n.Reservation=t;app.component("reservation",{controller:t,bindings:{someVariable:"<"},controllerAs:"vm",templateUrl:function(n){return n.reservation}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.$onInit=function(){console.log(this.book)},n}();n.SubjectsPage=t;app.component("subjectsPage",{controller:t,bindings:{book:"<"},controllerAs:"vm",template:"<navbar><\/navbar><subjects><\/subjects>"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r){this.$location=n;this.$http=t;this.libraryService=i;this.$sessionStorage=r;this.subjects=[];this.sortColumn="Name";this.hidelist=!1;this.$insert=["$location","libraryService","$sessionStorage"]}return n.prototype.CancelEdit=function(){var n=this;this.mysubject.SubjectId>0&&(this.mysubject=JSON.parse(JSON.stringify(this.tmpSubject)),console.log(this.mysubject),angular.forEach(this.subjects,function(t){t.SubjectId==n.mysubject.SubjectId&&angular.copy(n.mysubject,t)}));this.hidelist=!1},n.prototype.NewSubject=function(){console.log("New Subject");this.hidelist=!0},n.prototype.Save=function(n){var t=this;this.tmpSubject={};n==1&&this.libraryService.saveSubject(this.mysubject).then(function(){t.hidelist=!1});n==2&&(this.mysubject.SubjectId=null,this.libraryService.saveSubject(this.mysubject).then(function(n){t.subjects.unshift(n.data);t.hidelist=!1}))},n.prototype.Edit=function(n){console.log(n);this.hidelist=!0;n?(this.tmpSubject=JSON.parse(JSON.stringify(n)),console.log(this.tmpSubject),this.mysubject=n):this.mysubject={SubjectId:0,Name:"",Prefix:"",LastId:0,Status:"Active"}},n.prototype.$onInit=function(){var n=this;this.libraryService.getSubjects().then(function(t){n.subjects=t})},n}();n.Subjects=t;app.component("subjects",{controller:t,controllerAs:"vm",templateUrl:function(n){return n.subjects}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.debt={};this.expense={};this.edu={};this.income={};this.assets={};this.invest={};this.barHeight=600;this.insuranceNeeds=0;this.$inject=["templates"];console.log(n.linc)}return n.prototype.$onInit=function(){this.expense.final=0;this.expense.funeral=0;this.expense.other=0;this.debt.mortgage=0;this.debt.car=0;this.debt.other=0;this.debt.credit=0;this.edu.children=0;this.edu.costPerChild=0;this.income.years=0;this.income.monthly=0;this.assets.insurance=0;this.assets.investments=0;this.assets.liquid=0;this.assets.other=0;this.invest.inflationRate=0;this.invest.returnRate=0;console.log("initialized")},n.prototype.cashNeeds=function(){var n=0;return n+=parseFloat(this.expense.final.toString()),n+=parseFloat(this.expense.funeral.toString()),n+parseFloat(this.expense.other.toString())},n.prototype.debts=function(){var n=0;return n+=parseFloat(this.debt.credit.toString()),n+=parseFloat(this.debt.car.toString()),n+=parseFloat(this.debt.mortgage.toString()),n+parseFloat(this.debt.other.toString())},n.prototype.Insurance=function(){var n=this.cashNeeds(),t=this.debts(),i=this.education(),r=this.Income(),u=n+t+i+r,f=this.Assets();return u-f},n.prototype.education=function(){var n=0,t=0;return(t=parseFloat(this.edu.children.toString()),n=parseFloat(this.edu.costPerChild.toString()),t==0)?0:n==0?0:t*n},n.prototype.Income=function(){var n=0,t=0;return(t=parseFloat(this.income.years.toString()),n=parseFloat(this.income.monthly.toString()),t==0)?0:n==0?0:t*n*12},n.prototype.Assets=function(){var n=0,t=0,i=0,r=0;return n=parseFloat(this.assets.insurance.toString()),t=parseFloat(this.assets.liquid.toString()),i=parseFloat(this.assets.investments.toString()),r=parseFloat(this.assets.other.toString()),n+t+i+r},n.prototype.redColumnHeight=function(){var h=this.barHeight-100,f=this.cashNeeds(),e=this.debts(),o=this.education(),s=this.Income(),n=f+e+o+s,t=o/n*100+10,i=f/n*100+10,r=e/n*100+10,u=s/n*100+10;n=t+i+r+u;t=t/n*100;i=i/n*100;r=r/n*100;u=u/n*100;this.educationHeight=t.toString();this.cashNeedsHeight=i.toString();this.debtHeight=r.toString();this.incomeHeight=u.toString();this.blueColumnHeight()},n.prototype.blueColumnHeight=function(){var r=this.cashNeeds(),u=this.debts(),f=this.education(),e=this.Income(),o=r+u+f+e,t=this.Assets(),n=o-t;n<0&&(n=0);this.insuranceNeeds=n;var i=t+n,s=t/i*100,h=n/i*100;this.insuranceHeight=h.toString();this.assetHeight=s.toString()},n.prototype.onSubmit2=function(){this.totals={};this.totals.expense=this.expense;this.totals.debt=this.debt;this.totals.income=this.income;this.totals.edu=this.edu;this.totals.income=this.income;this.totals.assets=this.assets;this.totals.invest=this.invest;this.totals.insuranceNeeds=this.insuranceNeeds;this.onSubmit({$event:{totals:this.totals}})},n.prototype.breakDown=function(n,t,i){i=600;t=30;var r=0;return angular.forEach(n,function(n){r=n.sum+r}),angular.forEach(n,function(n){n.percentage=n.sum/r;n.pixels=n.percentage*i}),n},n}();n.linc=t;app.component("linc",{templateUrl:function(n){return n.linc},bindings:{totals:"=",onSubmit:"&"},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(){var n=function(){function n(n,t,i,r,u){this.$location=n;this.$timeout=t;this.libraryService=i;this.$cookies=r;this.$sessionStorage=u;this.$insert=["$location","$timeout","libraryService","$cookies","$sessionStorage"];this.password=""}return n.prototype.LoginKey=function(n){n.which===13&&this.Login()},n.prototype.Login=function(){var n=this;this.password!=""&&this.libraryService.Login(this.username,this.password).then(function(t){n.$sessionStorage.myaccount=t.data;n.$location.url("/library/catalog")},function(){n.password="";n.errorMessage="Sorry, wrong username/password.";n.$timeout(function(){n.errorMessage=""},2200)})},n.prototype.$onInit=function(){var n=this.getCookie("account");n.Email&&(this.username=n.Email)},n.prototype.setCookie=function(n,t){var i=new Date;i.setDate(i.getDate()+100);this.$cookies.putObject(n,t,{expires:i})},n.prototype.getCookie=function(n){var t=this.$cookies.getObject(n);return t||(t={}),t},n}();app.component("login",{controller:n,controllerAs:"vm",templateUrl:"app/pages/login/login.html?v="+new Date})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t){this.$location=n;this.$http=t;this.$insert=["$location","$http"]}return n}();n.LibrarySearchPage=t;app.component("librarySearchPage",{controller:n.AgentList,controllerAs:"vm",templateUrl:function(n){return n.agentList}})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u,f,e){this.$scope=n;this.$location=t;this.plannerPortal=i;this.$sce=r;this.$filter=u;this.$routeParams=f;this.$cookies=e;this.primaryContact={};this.spousalContact={};this.address={};this.display={};this.$insert=["$scope","$location","plannerPortal","$sce","$filterProvider","$routeParams","$cookies"];console.log("retirement planner")}return n.prototype.$onInit=function(){var n=this.$cookies.getObject("primary"),t=this.primaryContact,i=this.spousalContact,r=this.address;angular.copy(n,t);angular.copy(n,i);angular.copy(n,r);console.log(n);this.hideDisplays();this.display.primary=!0},n.prototype.setDisplay=function(n,t){var i=this.display;this.primaryContact.maritalStatus=="S"&&(n=="primary"&&t=="spousal"&&(t="address"),n=="address"&&t=="spousal"&&(t="primary"));console.log(t);this.hideDisplays();switch(t){case"primary":i.primary=!0;break;case"spousal":i.spousal=!0;break;case"address":i.address=!0;break;case"income":i.income=!0;break;case"assets":i.assets=!0;break;case"savings":i.savings=!0;break;case"pension":i.pension=!0;break;case"receipts":i.receipts=!0;break;case"objectives":i.objectives=!0;break;case"socialSecurity":i.socialSecurity=!0;break;case"rates":i.rates=!0;break;case"submit":i.submit=!0;break;case"success":i.success=!0}},n.prototype.hideDisplays=function(){this.display.primary=!1;this.display.spousal=!1;this.display.income=!1;this.display.address=!1;this.display.assets=!1;this.display.savings=!1;this.display.pension=!1;this.display.receipts=!1;this.display.objectives=!1;this.display.socialSecurity=!1;this.display.rates=!1;this.display.submit=!1;this.display.success=!1},n.prototype.SubmitForm=function(){var n=this,t=document.getElementById("addClient"),i=document.getElementById("myTarget");i.onload=function(){n.hideDisplays();console.log("got the load");console.log(n.display)};this.concatenate();this.hideDisplays();this.display.success=!0;t.submit()},n.prototype.convertDate=function(n){var i=new Date(n),r,t;return angular.isDate(i)?(r=this.$filter("date"),t=r(i,"MM-dd-yyyy"),t=="Invalid Date"?"":t):""},n.prototype.concatenate=function(){var n=this.formData;return!0},n}();n.retirementPlanner=t;app.component("retirementPlanner",{templateUrl:function(n){return n.retirementPlanner},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u,f,e){this.$scope=n;this.$location=t;this.plannerPortal=i;this.$sce=r;this.$filter=u;this.$routeParams=f;this.salesForce=e;this.mode={};this.formData={};this.display={};this.$insert=["$scope","$location","plannerPortal","$sce","$filterProvider","$routeParams","salesForce"];console.log("survivorNeedsPlanner planner")}return n.prototype.$onInit=function(){var n=this.$routeParams.view;console.log(n);n==""&&(n="primary");this.setMode(n);console.log("MODE IS "+n)},n.prototype.setDisplay=function(n,t){this.formData.maritalStatus==="S"&&t=="spousal"&&(t="address");this.go(t)},n.prototype.go=function(n){this.$location.url("/survivor/"+n)},n.prototype.setMode=function(n){var t=this.display,i=this;n||(t.primary=!0);n=="primary"&&(t.primary=!0);n=="spousal"&&(t.spousal=!0);n=="address"&&(t.address=!0);n=="income"&&(t.income=!0);n=="assets"&&(t.assets=!0);n=="savings"&&(t.savings=!0);n=="pension"&&(t.pension=!0);n=="insurance"&&(t.insurance=!0);n=="liabilities"&&(t.liabilities=!0);n=="survivorNeeds"&&(t.survivorNeeds=!0);n=="cashNeeds"&&(t.cashNeeds=!0);n=="rateAssumptions"&&(t.rateAssumptions=!0);n=="dependants"&&(t.dependants=!0);n=="submit"&&(t.submit=!0);n=="success"&&(t.success=!0);n=="receipts"&&(t.receipts=!0)},n.prototype.submitForm=function(){var i=document.getElementById("addClient"),r;this.formData.cbirthdate=this.plannerPortal.getFormattedDate(new Date(this.formData.cbirthdate));this.formData.sbirthdate=this.plannerPortal.getFormattedDate(new Date(this.formData.sbirthdate));var u=this.salesForce,t=this.formData,n={};n.first_name=t.cfirstname;n.last_name=t.clastname;n.interest="College Planner";n.email=t.updateRetirement_email;n.age=parseInt(t.cage);n.phone=t.updateRetirement_phone;n.details="";u.CreateContact(n).then(function(n){console.log(n)});r=document.getElementById("myTarget");i.onload||(r.onload=function(){console.log("SUCCESSFULLY SENT TO CALCULATOR")});this.concatenate();i.submit();this.display.submit=!1;this.display.success=!0},n.prototype.concatenate=function(){for(var t="",l=this.formData,n=0;n<5;n++){var s=document.getElementById("updateCollege_dependents_"+n+"__name"),h=document.getElementById("updateCollege_dependents_"+n+"__birthdate"),c=document.getElementById("updateCollege_dependents_"+n+"__goalDescription"),i=document.getElementById("updateCollege_dependents_"+n+"__annualCost"),r=document.getElementById("updateCollege_dependents_"+n+"__amountSaved"),u=document.getElementById("updateCollege_dependents_"+n+"__amountSaved529"),f=document.getElementById("updateCollege_dependents_"+n+"__percentYouPay"),e=document.getElementById("updateCollege_dependents_"+n+"__startingAge"),o=document.getElementById("updateCollege_dependents_"+n+"__yearsNeeded");angular.isNumber(i.value)||(i.value="0");angular.isNumber(r.value)||(r.value="0");angular.isNumber(u.value)||(u.value="0");angular.isNumber(f.value)||(f.value="0");angular.isNumber(e.value)||(e.value="0");angular.isNumber(o.value)||(o.value="0");t+=s.value+"|";t+=h.value+"|";t+=c.value+"|";t+=i.value+"|";t+=r.value+"|";t+=u.value+"|";t+=f.value+"|";t+=e.value+"|";t+=o.value+"|"}return this.formData.dependentsString=t,this.formData.liabilitiesString="",!0},n}();n.survivorNeedsPlanner=t;app.component("survivorNeedsPlanner",{templateUrl:function(n){return n.survivorNeedsPlanner},controller:t,controllerAs:"vm"})})(t=n.Components||(n.Components={}))}(Application||(Application={}));var deleteConfirmText="Are you sure you want to delete",removeFileConfirmText="Are you sure you want to remove this file?",deleteAssetConfirmText="Are you sure you want to delete this asset?",deleteItemConfirmText="Are you sure you want to delete this item?",confirmDeleteDependentText="Are you sure you want to delete",readSubscriberAgreementText="Have You Read The Subscriber Agreement?",requiredFieldsMessage="Please fill in all required fields",birthdateErrorMessage="Birthdate is incorrect.",numberLessThanErrorMessage="Please enter a number less than or equal to ",numberGreaterThanErrorMessage="Please enter a number greater than or equal to  ",percentLessThanErrorMessage="Please enter a percent less than or equal to  ",percentGreaterThanErrorMessage="Please enter a percent greater than or equal to ",emailAlreadyInUseMessage="This email address is already in use. Please enter a different email address.",maximumMoneyMessage="Please enter a value less than or equal to $ 10,000,000",minimumMoneyMessage="Please enter a value greater than or equal to -$ 10,000,000",retirementAnalysisExceedsRangeMessage="Age to end retirement analysis exceeds allowed range.",retirementAnalysisExceedsRangeMessage="Age to end retirement analysis exceeds allowed range.",Application;(function(n){var t;(function(n){var t=function(){function n(){}return Object.defineProperty(n,"imageServer",{get:function(){return"https://d2rg9t5epa49og.cloudfront.net"},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultBookImage",{get:function(){return"assets/book.png"},enumerable:!0,configurable:!0}),n}();n.LibraryConfig=t})(t=n.Config||(n.Config={}))})(Application||(Application={})),function(n){var t;(function(t){var i=function(){function t(t,i,r,u){this.$http=t;this.$sessionStorage=i;this.$location=r;this.$q=u;this.sid={};this.$insert=["$http","$sessionStorage","$location","$q"];var f=new n.Config.version;console.log("Initializing Library Module");this.server=f.apiServer;this.checkLogin()}return t.prototype.checkLogin=function(){this.$sessionStorage.myaccount?this.sid=this.$sessionStorage.myaccount.SessionId:this.$location.path!="/"&&this.$location.url("/")},t.prototype.getAccounts=function(){this.checkLogin();var n=this.$q.defer(),t=this.server+"/library/account?sid="+this.sid;return this.$http.get(t).then(function(t){n.resolve(t.data)}),n.promise},t.prototype.getSubjects=function(){var r=this,n,t,i;if(n=this.$q.defer(),this.$sessionStorage.subjects)t=this.$sessionStorage.subjects,n.resolve(t);else return i=this.server+"/api/subject",this.$http.get(i).then(function(t){r.$sessionStorage.subjects=t.data;n.resolve(t.data)});return n.promise},t.prototype.saveSubject=function(n){this.checkLogin();var t=this.server+"/api/subject?"+this.sid;return n.SubjectId>0?(console.log("PUT"),this.$http.put(t,n)):(console.log("POSTED"),this.$http.post(t,n))},t.prototype.Login=function(n,t){var i={email:n,password:t},r=this.server+"/api/Account/";return this.$http.post(r,i)},t.prototype.uploadImage=function(n){this.checkLogin();var t=this.server+"/api/image/";return this.$http.post(t,n,{transformRequest:angular.identity,headers:{"Content-Type":undefined}})},t.prototype.getBook=function(n,t){var i=this.server+"/api/library/catalog/"+n+"/"+t;return this.$http.get(i)},t.prototype.getBookHistory=function(n,t){var i=this.server+"/library/catalog/"+n+"/"+t+"/history";return this.$http.get(i)},t.prototype.getAccount=function(n){this.checkLogin();var t=this.server+"/library/account/"+n+"?sid="+this.sid;return this.$http.get(t)},t.prototype.AddRequest=function(n,t){var i={CallNumber:n,RequestByEmail:t},r=this.server+"/api/library/request";return this.$http.post(r,i)},t.prototype.getOpenRequests=function(){this.checkLogin();var n=this.server+"/library/request?sid="+this.sid;return this.$http.get(n)},t.prototype.UpdateRequest=function(n){this.checkLogin();var t=this.server+"/api/library/request?sid="+this.sid;return this.$http.put(t,n)},t.prototype.saveBook=function(n){this.checkLogin();var t=this.server+"/api/catalog?sid="+this.sid;return n.BookId>0?this.$http.put(t,n):this.$http.post(t,n)},t.prototype.Search=function(n,t,i){var r=this.server+"/api/library/search?prefix="+n+"&author="+t+"&title="+i;return this.$http.get(r)},t.prototype.LookupAccount=function(n,t){var i,r;return i=this.$q.defer(),r=this.server+"/library/accounts/search/email?q="+t+"&sid="+this.sid,this.$http.get(r).then(function(n){i.resolve(n)}),i.promise},t.prototype.SaveAccount=function(n){var t,i;return t=this.$q.defer(),i=this.server+"/library/account?sid="+this.sid,n.AccountId>0?this.$http.put(i,n).then(function(n){t.resolve(n)}):this.$http.post(i,n).then(function(n){t.resolve(n)}),t.promise},t.prototype.UpdateAccountPassword=function(n,t){var r,i,u;return r=this.$q.defer(),i={},i.AccountId=n,i.NewPassword=t,u=this.server+"/library/account?sid="+this.sid,this.$http.put(u,i).then(function(n){r.resolve(n)}),r.promise},t.prototype.Recent=function(){var n=this.server+"/api/library/search";return this.$http.get(n)},t}();t.libraryService=i;app.service("libraryService",i)})(t=n.Services||(n.Services={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n,t){this.$http=n;this.$insert=["$http","$location"];this.mydomain=t.protocol()+"://"+t.host()}return n.prototype.SendMail=function(n){this.mydomain="http://pfsa.morrisdev.com";var t=this.mydomain+"/wp-content/themes/aspire/custom/widgets/emailer.php";return this.$http.post(t,n)},n}();n.MailService=t;app.service("mailService",t)})(t=n.Services||(n.Services={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.$http=n;this.$insert=["$http"];this.lists={WebSubscription:"699a73df35",NewsLetter:"e6d3f77f33"}}return n.prototype.CreateMember=function(n,t){var u,r,i;return n.list_id=t?t:this.lists.NewsLetter,u="iub2398sd9823jkh2309sd0213joq3sd9f9890uo123jkkpodfoiojkqw",r="/wp-content/themes/aspire/custom/mail-chimp.php",r="http://pfsa.morrisdev.com"+r,i="?api="+u,i+="&fname="+n.firstName,i+="&lname="+n.lastName,i+="&email="+n.email,i+="&interest="+n.interest,i+="&phone="+n.phone,i+="&age="+n.age,i+="&gender="+n.gender,i+="&amount="+n.amount,i+="&list_id="+n.list_id,this.$http.get(r+i)},n}();n.mailChimp=t;app.service("mailChimp",t)})(t=n.Services||(n.Services={}))}(Application||(Application={})),function(n){var t;(function(n){var t=function(){function n(n){this.$http=n;this.$insert=["$http"]}return n.prototype.CreateContact=function(n){return this.$http.post("https://hooks.zapier.com/hooks/catch/492925/478s9i/",n,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},n}();n.salesForce=t;app.service("salesForce",t)})(t=n.Services||(n.Services={}))}(Application||(Application={}));